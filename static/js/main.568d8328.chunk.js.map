{"version":3,"sources":["layout/Header.js","components/Loader.js","components/StoryList.js","api/config.js","api/storyApi.js","layout/Navigation.js","components/News.js","api/newsApi.js","pages/Homepage.js","components/Story.js","pages/Storypage.js","pages/admin/components/StoryElement.js","pages/admin/components/Editor.js","pages/admin/components/TypeInputs.js","pages/admin/components/StoryMainProperties.js","pages/admin/components/AuthorsInputs.js","pages/admin/EditStory.js","pages/admin/StoriesList.js","pages/admin/components/NewsElement.js","pages/admin/NewsList.js","api/usersApi.js","pages/admin/AdminPanel.js","pages/Adminpage.js","pages/Loginpage.js","pages/Logoutpage.js","pages/Errorpage.js","layout/Page.js","layout/Footer.js","layout/Kitty.js","layout/App.js","serviceWorker.js","index.js"],"names":["Header","className","Loader","StoryList","props","stories","navigationHandler","storiesList","shortStories","filterTitle","title","chapters","filter","story","push","key","_id","to","id","onClick","chapter_title","longStories","i","length","getStoriesTitlesList","forEach","item","config","baseUrl","baseCorsUrl","adminUrl","adminCorsUrl","StoryApi","fetch","then","res","ok","json","Error","status","catch","err","author","data","console","log","method","body","JSON","stringify","headers","Navigation","state","active","setState","prevState","checkPermission","localStorage","getItem","storyApi","getAllStories","this","exact","icon","size","changeColor","lightMode","Component","News","description","date","utfDate","Date","toLocaleDateString","urlAuth","NewsApi","Homepage","news","generateNews","map","newsApi","getAllNews","Story","type","content","storyAuthors","authors","index","parse","Storypage","fetchNewStory","match","params","getStoryById","prevProps","StoryElement","handleDeleteStory","handleUpdateStory","handleEditStory","visible","value","TextEditor","editorState","EditorState","createEmpty","onEditorStateChange","file","Promise","resolve","reject","reader","FileReader","onload","e","link","target","result","onerror","readAsDataURL","blocksFromHTML","convertFromHTML","ContentState","createFromBlockArray","contentBlocks","entityMap","createWithContent","toolbarClassName","wrapperClassName","editorClassName","toolbar","options","textAlign","inDropdown","blockType","inline","list","image","previewImage","uploadCallback","uploadImageCallBack","placeholder","readOnly","draftToHtml","convertToRaw","getCurrentContent","onMouseLeave","handleChange","name","TypeInputs","type_message","errors","handleTypeChange","htmlFor","checked","onChange","disabled","StoryMainProperties","title_message","chapter_title_message","handlerOnChange","minLength","required","AuthorsInputs","allAuthors","authors_message","checkChange","login","EditStory","messages","content_message","formValidate","Object","entries","handleSubmit","preventDefault","updateStoryById","alert","respond","createNewStory","convertToObject","array","reduce","keys","editContent","closeEditStory","StoriesList","editmode","edit_content","storyModel","generateStoriesList","getStoriesByAuthor","deleteStoryFromState","updateStoryFromState","deleteStoryById","NewsElement","handleDeleteNews","NewsList","generateNewsList","deleteNewsFromState","deleteNewsById","usersApi","AdminPanel","user","getAllUsers","Adminpage","render","permission","Loginpage","pass","login_incorrect","email_incorrect","password_incorrect","handleInputChange","validation","formValidation","correct","message","loading","setItem","history","pathname","password","indexOf","onSubmit","noValidate","Logoutpage","redirect","removeItem","setTimeout","Errorpage","Page","path","component","Footer","Kitty","library","add","faChevronLeft","faChevronRight","faHome","faUser","faPowerOff","faSun","faMoon","faEye","faEyeSlash","faTrash","faEdit","faPlus","faTimes","App","handleColorMode","Boolean","window","location","hostname","ReactDOM","document","getElementById","navigator","serviceWorker","ready","registration","unregister"],"mappings":"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","file":"static/js/main.568d8328.chunk.js","sourcesContent":["import React from 'react';\r\nimport '../style/header.css';\r\n\r\nconst Header = () => {\r\n  return (\r\n    <>\r\n      <div className=\"header\">\r\n        <h1>Sensitive</h1>\r\n      </div>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default Header;\r\n","import React from 'react';\r\nimport '../style/loader.css';\r\n\r\nconst Loader = () => {\r\n  return (\r\n    <div className=\"loading-circle\">\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Loader;","import React from 'react';\r\nimport { NavLink } from 'react-router-dom';\r\n\r\nconst StoryList = (props) => {\r\n\r\n  const { stories, navigationHandler } = props;\r\n  const storiesList = [];\r\n  const shortStories = [];\r\n\r\n  function getStoriesTitlesList() {\r\n    const longStories = [];\r\n    for (let i = 0; i < stories.length; i++) {\r\n      if (i === 0 && stories[i].chapter_title) {\r\n        longStories.push(stories[i].title)\r\n      } else if (stories[i].title !== stories[i - 1].title && stories[i].chapter_title) longStories.push(stories[i].title)\r\n      else if (stories[i].title !== stories[i - 1].title) {\r\n        shortStories.push(stories[i].title)\r\n      }\r\n    }\r\n    return longStories;\r\n  }\r\n\r\n  function filterTitle(title, storiesList) {\r\n    const chapters = [];\r\n    storiesList.filter((story) => {\r\n      if (story.title === title) {\r\n        chapters.push(\r\n          <li key={story._id}>\r\n            <NavLink to={`/sensitive-cra/story/${story._id}`} id={story._id} onClick={navigationHandler} className={story.chapter_title ? \"storyBox__item\" : \"storyBox__item storyBox__item--short storyBox__title\"}>{story.chapter_title ? story.chapter_title : story.title}</NavLink>\r\n          </li>\r\n        )\r\n      }\r\n      return story.title === title\r\n    })\r\n    return chapters;\r\n  }\r\n\r\n\r\n  getStoriesTitlesList().forEach((item, id) => {\r\n    storiesList.push(\r\n      <li key={item + id} className=\"storyBox storyBox--long\">\r\n        <h3 className=\"storyBox__title\">{item}</h3>\r\n        <ul className=\"storyBox__list\">\r\n          {filterTitle(item, stories)}\r\n        </ul>\r\n      </li>)\r\n  })\r\n\r\n  shortStories.forEach((item, id) => {\r\n    storiesList.push(\r\n      <li className=\"storyBox\" key={item + id}>\r\n        <h3>\r\n          {filterTitle(item, stories)}\r\n        </h3>\r\n      </li>)\r\n  })\r\n\r\n\r\n  return (\r\n    <>\r\n      <ul>\r\n        {storiesList}\r\n      </ul>\r\n    </>\r\n  );\r\n}\r\n\r\nexport default StoryList;","const config = {\r\n  baseUrl: \"https://sensitive-express.herokuapp.com/api/\",\r\n  baseCorsUrl: \"https://cors-anywhere.herokuapp.com/https://sensitive-express.herokuapp.com/api/\",\r\n  adminUrl: \"https://sensitive-express.herokuapp.com/api/admin/\",\r\n  adminCorsUrl: \"https://cors-anywhere.herokuapp.com/https://sensitive-express.herokuapp.com/api/admin/\"\r\n}\r\n\r\nexport default config;","import config from '../api/config';\r\n\r\n// url changed after login\r\n// const urlAuth = localStorage.getItem('state') ? config.adminCorsUrl : config.baseCorsUrl;\r\n\r\nclass StoryApi {\r\n  static getAllStories() {\r\n    return fetch(`${config.baseCorsUrl}stories`)\r\n      .then(res => {\r\n        if (res.ok) {\r\n          return res.json();\r\n        } else {\r\n          throw new Error('error ', res.status);\r\n        }\r\n      })\r\n      .catch(err => err);\r\n  }\r\n\r\n  static getStoryById(id = '') {\r\n    return fetch(`${config.baseCorsUrl}story/${id}`)\r\n      .then(res => {\r\n        if (res.ok) {\r\n          return res.json();\r\n        } else {\r\n          throw new Error('error ', res.status);\r\n        }\r\n      })\r\n      .catch(err => err);\r\n  }\r\n\r\n  static getStoriesByAuthor(author = '') {\r\n    return fetch(`${config.adminCorsUrl}stories/${author}`)\r\n      .then(res => {\r\n        if (res.ok) {\r\n          return res.json();\r\n        } else {\r\n          throw new Error('error ', res.status);\r\n        }\r\n      })\r\n      .catch(err => err);\r\n  }\r\n\r\n  // static getStoryContentById(id = '') {\r\n  //   return fetch(`${config.adminCorsUrl}story/${id}`)\r\n  //     .then(res => {\r\n  //       if (res.ok) {\r\n  //         return res.json();\r\n  //       } else {\r\n  //         throw new Error('error ', res.status);\r\n  //       }\r\n  //     })\r\n  //     .catch(err => err);\r\n  // }\r\n\r\n  static createNewStory(data) {\r\n    console.log(data);\r\n    return fetch(`${config.adminCorsUrl}story/add`, {\r\n      method: 'POST',\r\n      body: JSON.stringify(data),\r\n      headers: {\r\n        'Content-Type': 'application/json'\r\n      }\r\n    })\r\n      .then(res => {\r\n        if (res.ok) {\r\n          return res.json();\r\n        } else {\r\n          throw new Error('error ', res.status);\r\n        }\r\n      })\r\n      .catch(err => err);\r\n  }\r\n\r\n  static deleteStoryById(id) {\r\n    return fetch(`${config.adminCorsUrl}story/delete/${id}`)\r\n      .then(res => {\r\n        if (res.ok) {\r\n          return res.json();\r\n        } else {\r\n          throw new Error('error ', res.status);\r\n        }\r\n      })\r\n      .catch(err => err);\r\n  }\r\n\r\n  static updateStoryById(id, data) {\r\n    // console.log(id, data);\r\n    return fetch(`${config.adminCorsUrl}story/update/${id}`, {\r\n      method: 'PATCH',\r\n      body: JSON.stringify(data),\r\n      headers: {\r\n        'Content-Type': 'application/json'\r\n      }\r\n    })\r\n      .then(res => {\r\n        if (res.ok) {\r\n          return res.json();\r\n        } else {\r\n          throw new Error('error ', res.status);\r\n        }\r\n      })\r\n      .catch(err => err);\r\n  }\r\n}\r\n\r\nexport default StoryApi;\r\n","import React, { Component } from 'react';\r\nimport { NavLink } from 'react-router-dom';\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\r\nimport Loader from '../components/Loader';\r\nimport StoryList from '../components/StoryList';\r\nimport storyApi from '../api/storyApi';\r\nimport '../style/navigation.css';\r\n\r\nclass Navigation extends Component {\r\n  state = {\r\n    active: false,\r\n    stories: []\r\n  };\r\n\r\n  navigationHandler = () => {\r\n    this.setState(prevState => ({ active: !prevState.active }));\r\n  };\r\n\r\n  checkPermission = () => {\r\n    return localStorage.getItem('state');\r\n  };\r\n\r\n  componentDidMount() {\r\n    storyApi.getAllStories().then(data => this.setState({ stories: data }));\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <>\r\n        <div className={this.state.active ? 'menu active' : 'menu'}>\r\n          <section className=\"icons\">\r\n            <NavLink\r\n              to=\"/sensitive-cra/\"\r\n              onClick={this.navigationHandler}\r\n              className=\"btn\"\r\n              exact\r\n            >\r\n              <FontAwesomeIcon icon=\"home\" size=\"2x\" />\r\n              <span className=\"description\">Start</span>\r\n            </NavLink>\r\n            <NavLink\r\n              to=\"/sensitive-cra/admin\"\r\n              onClick={this.navigationHandler}\r\n              className=\"btn\"\r\n            >\r\n              <FontAwesomeIcon icon=\"user\" size=\"2x\" />\r\n              <span className=\"description\">Panel użytkownika</span>\r\n            </NavLink>\r\n            {this.checkPermission() && (\r\n              <NavLink\r\n                to=\"/sensitive-cra/logout\"\r\n                onClick={this.navigationHandler}\r\n                className=\"btn\"\r\n              >\r\n                <FontAwesomeIcon icon=\"power-off\" size=\"2x\" />\r\n                <span className=\"description\">Wyloguj</span>\r\n              </NavLink>\r\n            )}\r\n\r\n            <button className=\"btn\" onClick={this.props.changeColor}>\r\n              <FontAwesomeIcon\r\n                icon={this.props.lightMode ? 'moon' : 'sun'}\r\n                size=\"2x\"\r\n              />\r\n              <span className=\"description\">\r\n                Motyw {this.props.lightMode ? 'ciemny' : 'jasny'}\r\n              </span>\r\n            </button>\r\n          </section>\r\n\r\n          <h3 className=\"menu__header\">Opowiadania</h3>\r\n          {this.state.stories.length ? (\r\n            <StoryList\r\n              stories={this.state.stories}\r\n              navigationHandler={this.navigationHandler}\r\n            />\r\n          ) : (\r\n            <Loader />\r\n          )}\r\n        </div>\r\n\r\n        <div\r\n          className={\r\n            this.state.active ? 'btn menu-button active' : 'btn menu-button'\r\n          }\r\n          onClick={this.navigationHandler}\r\n        >\r\n          <FontAwesomeIcon icon=\"chevron-right\" size=\"2x\" />\r\n        </div>\r\n      </>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Navigation;\r\n","import React from 'react';\r\n\r\nconst News = (props) => {\r\n\r\n  const { title, description, date } = props;\r\n  const utfDate = new Date(date);\r\n\r\n  return (\r\n    <article className=\"articleNews\">\r\n      <h3>{title}</h3>\r\n      <span>{utfDate.toLocaleDateString()}</span>\r\n      <p className=\"articleNews__description\">{description}</p>\r\n    </article>\r\n\r\n  );\r\n}\r\n\r\nexport default News;","import config from '../api/config';\r\n\r\n// url changed after login\r\nconst urlAuth = localStorage.getItem('state') ? config.adminCorsUrl : config.baseCorsUrl;\r\n\r\nclass NewsApi {\r\n\r\n  static getAllNews() {\r\n    return fetch(`${urlAuth}news`)\r\n      .then(res => {\r\n        if (res.ok) {\r\n          return res.json()\r\n        } else {\r\n          throw new Error(\"error \", res.status)\r\n        }\r\n      })\r\n      .catch(err => err)\r\n  }\r\n\r\n  static deleteNewsById(id) {\r\n    return fetch(`${urlAuth}news/delete/${id}`)\r\n      .then(res => {\r\n        if (res.ok) {\r\n          return res.json()\r\n        } else {\r\n          throw new Error(\"error \", res.status)\r\n        }\r\n      })\r\n      .catch(err => err)\r\n  }\r\n\r\n}\r\n\r\nexport default NewsApi;","import React, { Component } from 'react';\r\nimport News from '../components/News';\r\nimport Loader from '../components/Loader';\r\nimport newsApi from '../api/newsApi';\r\nimport '../style/main.css';\r\n\r\nclass Homepage extends Component {\r\n  state = { news: [] }\r\n\r\n  generateNews = () => {\r\n    const newsTemplates = this.state.news.map(news =>\r\n      <News key={news._id} title={news.title} date={news.date} description={news.description} />\r\n    )\r\n    return newsTemplates;\r\n  }\r\n\r\n  componentDidMount() {\r\n    newsApi.getAllNews()\r\n      .then(data => this.setState({ news: data }))\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <>\r\n        {this.state.news.length ? this.generateNews() : <Loader />}\r\n      </>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Homepage;","import React from 'react';\r\nimport parse from 'html-react-parser';\r\nimport '../style/story.css';\r\n\r\nconst Story = (props) => {\r\n  const { type, title, chapter_title, content, authors } = props.story;\r\n\r\n  const storyAuthors = authors.map((author, index) => <span className=\"story__author\" key={index}>{author}</span>)\r\n\r\n  return (\r\n    <article className=\"story\">\r\n      <small>{type === \"story\" ? title + ' / ' + chapter_title : `${title} (${type})`}</small>\r\n      <h3 className=\"story__title\">{type === \"story\" ? chapter_title : title}</h3>\r\n      <div className=\"story__content\">{parse(content)}</div>\r\n      <p className=\"story__authors\">{storyAuthors}</p>\r\n    </article>\r\n\r\n  );\r\n}\r\n\r\nexport default Story;","import React, { Component } from 'react';\r\nimport Story from '../components/Story';\r\nimport Loader from '../components/Loader';\r\nimport storyApi from '../api/storyApi';\r\n\r\nclass Storypage extends Component {\r\n  state = {\r\n    story: [],\r\n  }\r\n\r\n  fetchNewStory = () => {\r\n    const id = this.props.match.params.id;\r\n    storyApi.getStoryById(id)\r\n      .then(data => this.setState({ story: data }))\r\n  }\r\n\r\n  componentDidMount() {\r\n    this.fetchNewStory();\r\n  }\r\n\r\n  componentDidUpdate(prevProps, prevState) {\r\n    if (this.props.match.params.id !== prevProps.match.params.id) {\r\n      this.fetchNewStory();\r\n    }\r\n  }\r\n\r\n  render() {\r\n    const { story } = this.state;\r\n\r\n    return (\r\n      <>\r\n        {story._id ? <Story story={story} /> : <Loader />}\r\n      </>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Storypage;\r\n","import React from 'react';\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\r\n\r\nconst StoryElement = ({\r\n  story,\r\n  handleDeleteStory,\r\n  handleUpdateStory,\r\n  handleEditStory\r\n}) => {\r\n  const { _id, title, chapter_title, visible } = story;\r\n\r\n  return (\r\n    <div className=\"storyListItem\">\r\n      <button\r\n        className=\"listBtn\"\r\n        value={visible}\r\n        onClick={() => handleUpdateStory(_id, { visible: !visible })}\r\n      >\r\n        <FontAwesomeIcon icon={visible ? 'eye' : 'eye-slash'} />\r\n      </button>\r\n      <p className=\"storyListItem__title\">\r\n        {chapter_title ? chapter_title : title}\r\n      </p>\r\n      <p className=\"storyListItem__title small\">\r\n        {chapter_title ? `(${title})` : '(one-shot)'}\r\n      </p>\r\n      <button className=\"listBtn\" onClick={() => handleEditStory(story)}>\r\n        <FontAwesomeIcon icon=\"edit\" />\r\n      </button>\r\n      <button\r\n        className=\"listBtn\"\r\n        value={_id}\r\n        onClick={() => handleDeleteStory(_id)}\r\n      >\r\n        <FontAwesomeIcon icon=\"trash\" />\r\n      </button>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default StoryElement;\r\n","import React, { Component } from 'react';\r\nimport {\r\n  EditorState,\r\n  ContentState,\r\n  convertToRaw,\r\n  convertFromHTML\r\n} from 'draft-js';\r\nimport draftToHtml from 'draftjs-to-html';\r\nimport { Editor } from 'react-draft-wysiwyg';\r\n// import CustomOption from './CustomOption';\r\nimport '../../../../node_modules/react-draft-wysiwyg/dist/react-draft-wysiwyg.css';\r\nimport '../style/editor.css';\r\n\r\nclass TextEditor extends Component {\r\n  state = {\r\n    editorState: EditorState.createEmpty()\r\n  };\r\n\r\n  onEditorStateChange = editorState => {\r\n    this.setState({\r\n      editorState\r\n    });\r\n  };\r\n\r\n  uploadImageCallBack(file) {\r\n    return new Promise((resolve, reject) => {\r\n      const reader = new FileReader(); // eslint-disable-line no-undef\r\n      reader.onload = e => resolve({ data: { link: e.target.result } });\r\n      reader.onerror = e => reject(e);\r\n      reader.readAsDataURL(file);\r\n    });\r\n  }\r\n\r\n  componentDidUpdate(prevProps) {\r\n    if (prevProps.content !== this.props.content) {\r\n      const blocksFromHTML = convertFromHTML(this.props.content);\r\n      const state = ContentState.createFromBlockArray(\r\n        blocksFromHTML.contentBlocks,\r\n        blocksFromHTML.entityMap\r\n      );\r\n      this.setState({\r\n        editorState: EditorState.createWithContent(state)\r\n      });\r\n    }\r\n  }\r\n\r\n  render() {\r\n    const { editorState } = this.state;\r\n    return (\r\n      <div className=\"rdw-storybook-root\">\r\n        <Editor\r\n          editorState={editorState}\r\n          // defaultEditorState={editorState}\r\n          toolbarClassName=\"rdw-storybook-toolbar\"\r\n          wrapperClassName=\"rdw-storybook-wrapper\"\r\n          editorClassName=\"rdw-storybook-editor\"\r\n          onEditorStateChange={this.onEditorStateChange}\r\n          toolbar={{\r\n            options: ['textAlign', 'blockType', 'inline', 'list', 'image'],\r\n            textAlign: {\r\n              inDropdown: false,\r\n              options: ['left', 'center', 'right', 'justify']\r\n            },\r\n            blockType: {\r\n              inDropdown: false,\r\n              options: ['Normal', 'H5', 'H6']\r\n            },\r\n            inline: {\r\n              options: [\r\n                'bold',\r\n                'italic',\r\n                'underline',\r\n                'strikethrough',\r\n                'monospace'\r\n              ]\r\n            },\r\n            list: {\r\n              options: ['unordered', 'ordered']\r\n            },\r\n            image: {\r\n              // className: undefined,\r\n              // component: undefined,\r\n              // popupClassName: undefined,\r\n              // urlEnabled: true,\r\n              // uploadEnabled: false,\r\n              previewImage: true,\r\n              // alignmentEnabled: true,\r\n              uploadCallback: this.uploadImageCallBack\r\n              // inputAccept: \"image/gif,image/jpeg,image/jpg,image/png,image/svg\",\r\n              // alt: { present: true, mandatory: true }\r\n              // defaultSize: {\r\n              //   height: \"auto\",\r\n              //   width: \"50%\"\r\n              // },\r\n              // title: undefined\r\n            }\r\n          }}\r\n          // toolbarCustomButtons={[<CustomOption />]}\r\n          placeholder=\"Pisz tutaj\"\r\n        />\r\n\r\n        <textarea\r\n          readOnly\r\n          className=\"rdw-storybook-textarea invisible\"\r\n          value={draftToHtml(convertToRaw(editorState.getCurrentContent()))}\r\n          onMouseLeave={this.props.handleChange}\r\n          name=\"content\"\r\n        />\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default TextEditor;\r\n","import React from 'react';\r\n\r\nconst TypeInputs = ({\r\n  type,\r\n  chapter_title,\r\n  type_message,\r\n  errors,\r\n  handleTypeChange\r\n}) => {\r\n  return (\r\n    <section className=\"form__options\">\r\n      <legend>Rodzaj</legend>\r\n      <fieldset className=\"form__field\">\r\n        <label htmlFor=\"story\" className=\"inputContainer\">\r\n          opowiadanie\r\n          <input\r\n            type=\"radio\"\r\n            id=\"story\"\r\n            name=\"type\"\r\n            value=\"story\"\r\n            checked={type === 'story'}\r\n            onChange={handleTypeChange}\r\n          />\r\n          <span className=\"checkmark checkmark--radio\"></span>\r\n        </label>\r\n        <label htmlFor=\"one-shot\" className=\"inputContainer\">\r\n          one-shot\r\n          <input\r\n            type=\"radio\"\r\n            id=\"one-shot\"\r\n            name=\"type\"\r\n            value=\"one-shot\"\r\n            checked={type === 'one-shot'}\r\n            disabled={chapter_title}\r\n            onChange={handleTypeChange}\r\n          />\r\n          <span className=\"checkmark checkmark--radio\"></span>\r\n        </label>\r\n      </fieldset>\r\n\r\n      {errors.type && <span className=\"form__alert\">{type_message}</span>}\r\n    </section>\r\n  );\r\n};\r\n\r\nexport default TypeInputs;\r\n","import React from 'react';\r\n\r\nconst StoryMainProperties = ({\r\n  type,\r\n  title,\r\n  chapter_title,\r\n  title_message,\r\n  chapter_title_message,\r\n  errors,\r\n  handlerOnChange\r\n}) => {\r\n  return (\r\n    <>\r\n      <section className=\"form__options\">\r\n        <div className=\"form__field\">\r\n          <input\r\n            type=\"text\"\r\n            name=\"title\"\r\n            id=\"title\"\r\n            className={title.length > 0 ? 'form__input filled' : 'form__input'}\r\n            value={title}\r\n            onChange={handlerOnChange}\r\n            minLength=\"2\"\r\n            required\r\n          />\r\n          <label htmlFor=\"title\" className=\"form__label\">\r\n            Tytuł\r\n          </label>\r\n        </div>\r\n\r\n        {errors.title && <span className=\"form__alert\">{title_message}</span>}\r\n      </section>\r\n\r\n      <section className=\"form__options\">\r\n        <div className=\"form__field\">\r\n          <input\r\n            type=\"text\"\r\n            name=\"chapter_title\"\r\n            id=\"chapter_title\"\r\n            className={\r\n              chapter_title && chapter_title.length > 0\r\n                ? 'form__input filled'\r\n                : 'form__input'\r\n            }\r\n            value={type !== 'one-shot' && chapter_title}\r\n            onChange={handlerOnChange}\r\n            disabled={type === 'one-shot'}\r\n            minLength=\"1\"\r\n            required\r\n          />\r\n          <label htmlFor=\"chapter__title\" className=\"form__label\">\r\n            Rozdział\r\n          </label>\r\n        </div>\r\n\r\n        {type !== 'one-shot' && errors.chapter_title && (\r\n          <span className=\"form__alert\">{chapter_title_message}</span>\r\n        )}\r\n      </section>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default StoryMainProperties;\r\n","import React from 'react';\r\n\r\nconst AuthorsInputs = ({\r\n  allAuthors,\r\n  author,\r\n  authors_message,\r\n  errors,\r\n  checkChange\r\n}) => {\r\n  const generateAuthors = () => {\r\n    return allAuthors.map((item, index) =>\r\n      item.login !== author ? (\r\n        <label key={index} className=\"inputContainer\">\r\n          <input\r\n            type=\"checkbox\"\r\n            name=\"authors\"\r\n            value={item.login}\r\n            onChange={checkChange}\r\n          />\r\n          {item.login}\r\n          <span className=\"checkmark\"></span>\r\n        </label>\r\n      ) : (\r\n        <label key={index} className=\"inputContainer\">\r\n          <input\r\n            type=\"checkbox\"\r\n            id=\"authors\"\r\n            value={author}\r\n            checked={true}\r\n            readOnly\r\n          />\r\n          {author}\r\n          <span className=\"checkmark\"></span>\r\n        </label>\r\n      )\r\n    );\r\n  };\r\n\r\n  return (\r\n    <section className=\"form__options\">\r\n      <fieldset className=\"form__field\">\r\n        <legend>Autorzy</legend>\r\n        {generateAuthors()}\r\n        <br />\r\n      </fieldset>\r\n\r\n      {errors.authors && <span className=\"form__alert\">{authors_message}</span>}\r\n    </section>\r\n  );\r\n};\r\n\r\nexport default AuthorsInputs;\r\n","import React, { Component } from 'react';\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\r\nimport TextEditor from './components/Editor';\r\nimport TypeInputs from './components/TypeInputs';\r\nimport StoryMainProperties from './components/StoryMainProperties';\r\nimport AuthorsInputs from './components/AuthorsInputs';\r\nimport storyApi from '../../api/storyApi';\r\nimport '../../style/forms.css';\r\n\r\nclass EditStory extends Component {\r\n  state = {\r\n    _id: '',\r\n    type: '',\r\n    title: '',\r\n    chapter_title: false,\r\n    content: '',\r\n    authors: [],\r\n    errors: {\r\n      type: false,\r\n      authors: false,\r\n      title: false,\r\n      chapter_title: false,\r\n      content: false\r\n    },\r\n    checked: {}\r\n  };\r\n\r\n  messages = {\r\n    type_message: 'Wybierz typ',\r\n    authors_message: 'Dodaj autorów',\r\n    title_message: 'Nadaj tytuł',\r\n    chapter_title_message: 'Uzupełnij to pole',\r\n    content_message: 'Uzupełnij treść'\r\n  };\r\n\r\n  formValidate = () => {\r\n    const type = this.state.type === '';\r\n    const chapter_title =\r\n      this.state.type === 'story' &&\r\n      (this.state.chapter_title === false || this.state.chapter_title === '');\r\n    const title = this.state.title === '';\r\n    const content = this.state.content.length < 10;\r\n    const authors = this.state.authors.length === 0;\r\n\r\n    this.setState({\r\n      errors: {\r\n        type,\r\n        title,\r\n        chapter_title,\r\n        content,\r\n        authors\r\n      }\r\n    });\r\n\r\n    return !type && !title && !chapter_title && !content && !authors;\r\n  };\r\n\r\n  handleTypeChange = e => {\r\n    this.formValidate();\r\n    this.setState({ type: e.target.value });\r\n  };\r\n\r\n  handlerOnChange = e => {\r\n    this.formValidate();\r\n\r\n    const authors = Object.entries(this.state.checked)\r\n      .filter(item => item[1] && item[0])\r\n      .map(item => item[0]);\r\n\r\n    if (e.target.type === 'checkbox') {\r\n      this.setState({\r\n        authors,\r\n        checked: { ...this.state.checked, [e.target.value]: e.target.checked }\r\n      });\r\n    } else {\r\n      this.setState({ authors, [e.target.name]: e.target.value });\r\n    }\r\n  };\r\n\r\n  handleSubmit = e => {\r\n    e.preventDefault();\r\n    const { _id, type, title, chapter_title, content, authors } = this.state;\r\n    if (this.formValidate()) {\r\n      console.log('aktualizuję dane');\r\n      let data;\r\n\r\n      if (type !== 'one-shot') {\r\n        data = { type, title, chapter_title, content, authors };\r\n      } else {\r\n        data = { type, title, content, authors };\r\n      }\r\n      console.log(data);\r\n      _id !== 'new'\r\n        ? storyApi.updateStoryById(_id, data).then(data => alert(data.respond))\r\n        : storyApi.createNewStory(data).then(data => alert(data.respond));\r\n    } else {\r\n      alert('Uzupełnij brakujące pola!');\r\n    }\r\n  };\r\n\r\n  convertToObject = (array, value) => {\r\n    return array\r\n      .map(item => ({ [item]: value }))\r\n      .reduce(function(result, item) {\r\n        const key = Object.keys(item)[0];\r\n        result[key] = item[key];\r\n        return result;\r\n      }, {});\r\n  };\r\n\r\n  componentDidMount() {\r\n    const {\r\n      _id,\r\n      type,\r\n      title,\r\n      chapter_title,\r\n      content,\r\n      authors\r\n    } = this.props.editContent;\r\n\r\n    const checked = this.convertToObject(authors, true);\r\n\r\n    this.setState({\r\n      _id,\r\n      type,\r\n      title,\r\n      chapter_title,\r\n      content,\r\n      checked,\r\n      authors\r\n    });\r\n  }\r\n\r\n  componentDidUpdate(prevProps) {\r\n    if (this.props.editContent !== prevProps.editContent) {\r\n      const checked = this.convertToObject(\r\n        this.props.editContent.authors,\r\n        true\r\n      );\r\n\r\n      this.setState({ ...this.props.editContent, checked });\r\n    }\r\n  }\r\n\r\n  render() {\r\n    const { type, title, chapter_title, content, errors } = this.state;\r\n    const {\r\n      type_message,\r\n      title_message,\r\n      chapter_title_message,\r\n      content_message,\r\n      authors_message\r\n    } = this.messages;\r\n\r\n    return (\r\n      <div className=\"editContainer\">\r\n        <h3>Tryb edycji</h3>\r\n        <button\r\n          className=\"btn listBtn listBtn--main\"\r\n          onClick={this.props.closeEditStory}\r\n        >\r\n          <FontAwesomeIcon icon=\"times\" size=\"2x\" />\r\n          <span className=\"description\">Zamknij</span>\r\n        </button>\r\n\r\n        <form method=\"post\" className=\"form editForm\">\r\n          <TypeInputs\r\n            type={type}\r\n            chapter_title={chapter_title}\r\n            type_message={type_message}\r\n            errors={errors}\r\n            handleTypeChange={this.handleTypeChange}\r\n          />\r\n\r\n          <AuthorsInputs\r\n            author={this.props.author}\r\n            allAuthors={this.props.allAuthors}\r\n            authors_message={authors_message}\r\n            errors={errors}\r\n            checkChange={this.handlerOnChange}\r\n          />\r\n\r\n          <StoryMainProperties\r\n            type={type}\r\n            title={title}\r\n            chapter_title={chapter_title || ''}\r\n            title_message={title_message}\r\n            chapter_title_message={chapter_title_message}\r\n            errors={errors}\r\n            handlerOnChange={this.handlerOnChange}\r\n          />\r\n\r\n          <div className=\"form__editor\">\r\n            <TextEditor content={content} handleChange={this.handlerOnChange} />\r\n\r\n            {errors.content && (\r\n              <span className=\"form__alert\">{content_message}</span>\r\n            )}\r\n          </div>\r\n\r\n          <button\r\n            type=\"submit\"\r\n            className=\"btn form__button\"\r\n            onClick={this.handleSubmit}\r\n          >\r\n            Zatwierdź\r\n          </button>\r\n        </form>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default EditStory;\r\n","import React, { Component } from 'react';\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\r\nimport Loader from '../../components/Loader';\r\nimport StoryElement from './components/StoryElement';\r\nimport EditStory from './EditStory';\r\nimport storyApi from '../../api/storyApi';\r\n\r\nclass StoriesList extends Component {\r\n  state = {\r\n    stories: [],\r\n    editmode: false,\r\n    edit_content: {}\r\n  };\r\n\r\n  storyModel = {\r\n    _id: 'new',\r\n    type: '',\r\n    title: '',\r\n    chapter_title: false,\r\n    content: '',\r\n    authors: [this.props.author]\r\n  };\r\n\r\n  generateStoriesList = () => {\r\n    return this.state.stories.map(story => (\r\n      <StoryElement\r\n        key={story._id}\r\n        story={story}\r\n        handleDeleteStory={this.handleDeleteStory}\r\n        handleUpdateStory={this.handleUpdateStory}\r\n        handleEditStory={() => this.handleEditStory(story)}\r\n      />\r\n    ));\r\n  };\r\n\r\n  getStoriesByAuthor = author => {\r\n    storyApi\r\n      .getStoriesByAuthor(author)\r\n      .then(data => this.setState({ stories: data }));\r\n  };\r\n\r\n  deleteStoryFromState = id => {\r\n    this.setState(prevState => ({\r\n      stories: prevState.stories.filter(story => story._id !== id && story)\r\n    }));\r\n  };\r\n\r\n  updateStoryFromState = id => {\r\n    this.setState(prevState => ({\r\n      stories: prevState.stories.map(story =>\r\n        story._id === id ? { ...story, visible: !story.visible } : story\r\n      )\r\n    }));\r\n  };\r\n\r\n  handleDeleteStory = (id = '') => {\r\n    this.deleteStoryFromState(id);\r\n    storyApi.deleteStoryById(id);\r\n  };\r\n\r\n  handleUpdateStory = (id = '', data = {}) => {\r\n    this.updateStoryFromState(id);\r\n    storyApi.updateStoryById(id, data);\r\n  };\r\n\r\n  handleEditStory = (props = '') => {\r\n    // czy można to jakoś ulepszyć?\r\n    console.log(props);\r\n    this.setState({\r\n      editmode: true,\r\n      edit_content: props\r\n    });\r\n  };\r\n\r\n  closeEditStory = () => {\r\n    this.setState({\r\n      editmode: false,\r\n      editContent: this.storyModel\r\n    });\r\n  };\r\n\r\n  componentDidMount() {\r\n    this.getStoriesByAuthor(this.props.author);\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <>\r\n        <div className=\"adminStories\">\r\n          {this.state.editmode && (\r\n            <EditStory\r\n              author={this.props.author}\r\n              allAuthors={this.props.allAuthors}\r\n              editContent={\r\n                // czy to jest konieczne?\r\n                this.state.edit_content !== '' ? this.state.edit_content : ''\r\n              }\r\n              closeEditStory={this.closeEditStory}\r\n            />\r\n          )}\r\n          <h3>Twoja twórczość</h3>\r\n          {this.state.stories.length > 0 ? (\r\n            this.generateStoriesList()\r\n          ) : (\r\n            <Loader />\r\n          )}\r\n          <div className=\"addListItem\">\r\n            <button\r\n              className=\"listBtn\"\r\n              onClick={() => this.handleEditStory(this.storyModel)}\r\n            >\r\n              <FontAwesomeIcon icon=\"plus\" />\r\n            </button>\r\n            <p className=\"storyListItem__title\">Nowy tytuł</p>\r\n          </div>\r\n        </div>\r\n      </>\r\n    );\r\n  }\r\n}\r\n\r\nexport default StoriesList;\r\n","import React from 'react';\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\r\n\r\nconst NewsElement = ({ title, date, id, handleDeleteNews }) => {\r\n  const utfDate = new Date(date);\r\n\r\n  return (\r\n    <div className='newsListItem'>\r\n      <div className='newsListItem__title'>\r\n        <h4>{title}</h4>\r\n        <p className='small'>{utfDate.toLocaleDateString()}</p>\r\n      </div>\r\n      <button className='listBtn'>\r\n        <FontAwesomeIcon icon=\"edit\" />\r\n      </button>\r\n      <button\r\n        className='listBtn'\r\n        value={id}\r\n        onClick={() => handleDeleteNews(id)}>\r\n        <FontAwesomeIcon icon=\"trash\" />\r\n      </button>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default NewsElement;\r\n","import React, { Component } from 'react';\r\nimport NewsElement from './components/NewsElement';\r\nimport newsApi from '../../api/newsApi';\r\nimport Loader from '../../components/Loader';\r\n\r\nclass NewsList extends Component {\r\n  state = {\r\n    news: []\r\n  };\r\n\r\n  generateNewsList = () => {\r\n    return this.state.news.map(item => (\r\n      <NewsElement\r\n        key={item.date}\r\n        title={item.title}\r\n        date={item.date}\r\n        id={item._id}\r\n        handleDeleteNews={this.handleDeleteNews}\r\n      />\r\n    ));\r\n  };\r\n\r\n  deleteNewsFromState = id => {\r\n    this.setState(prevState => ({\r\n      news: prevState.news.filter(item => item._id !== id && item)\r\n    }));\r\n  };\r\n\r\n  handleDeleteNews = (id = '') => {\r\n    this.deleteNewsFromState(id);\r\n    newsApi.deleteNewsById(id);\r\n  };\r\n\r\n  componentDidMount() {\r\n    newsApi.getAllNews().then(data => this.setState({ news: data }));\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <>\r\n        <div className=\"adminNews\">\r\n          <h3>News</h3>\r\n          {this.state.news.length > 0 ? this.generateNewsList() : <Loader />}\r\n        </div>\r\n      </>\r\n    );\r\n  }\r\n}\r\n\r\nexport default NewsList;\r\n","import config from '../api/config';\r\n\r\nclass usersApi {\r\n  static getAllUsers() {\r\n    return fetch(`${config.adminCorsUrl}users`)\r\n      .then(res => {\r\n        if (res.ok) {\r\n          return res.json();\r\n        } else {\r\n          throw new Error('error ', res.status);\r\n        }\r\n      })\r\n      .catch(err => err);\r\n  }\r\n}\r\n\r\nexport default usersApi;\r\n","import React, { Component } from 'react';\r\nimport StoriesList from './StoriesList';\r\nimport NewsList from './NewsList';\r\nimport usersApi from '../../api/usersApi';\r\nimport './style/adminpanel.css';\r\n\r\nclass AdminPanel extends Component {\r\n  state = {\r\n    user: this.props.user,\r\n    allAuthors: []\r\n  };\r\n\r\n  componentDidMount() {\r\n    usersApi.getAllUsers().then(data => {\r\n      if (data) {\r\n        console.log(data);\r\n        return this.setState({\r\n          allAuthors: data.map(({ login }) => ({ login }))\r\n        });\r\n      }\r\n    });\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <>\r\n        <div className=\"adminPanel\">\r\n          <h3 className=\"adminName\">{this.state.user}</h3>\r\n          <StoriesList\r\n            author={this.state.user}\r\n            allAuthors={this.state.allAuthors}\r\n          />\r\n          <NewsList />\r\n        </div>\r\n      </>\r\n    );\r\n  }\r\n}\r\n\r\nexport default AdminPanel;\r\n","import React, { Component } from 'react';\r\nimport { Route, Redirect } from 'react-router-dom';\r\nimport AdminPanel from './admin/AdminPanel';\r\n\r\nclass Adminpage extends Component {\r\n  state = {\r\n    user: 'Admin'\r\n  };\r\n\r\n  checkPermission = () => {\r\n    return localStorage.getItem('state');\r\n  };\r\n\r\n  render() {\r\n    return (\r\n      <>\r\n        <Route\r\n          render={() =>\r\n            this.checkPermission() ? (\r\n              <AdminPanel user={this.state.user} />\r\n            ) : (\r\n              <Redirect\r\n                to=\"/sensitive-cra/login/\"\r\n                permission={this.checkPermission}\r\n              />\r\n            )\r\n          }\r\n        />\r\n      </>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Adminpage;\r\n","import React, { Component } from 'react';\r\nimport Loader from '../components/Loader';\r\nimport config from '../api/config';\r\nimport '../style/forms.css';\r\n\r\nclass Loginpage extends Component {\r\n  state = {\r\n    login: '',\r\n    pass: '',\r\n    errors: {\r\n      login: false,\r\n      pass: false\r\n    }\r\n  };\r\n\r\n  messages = {\r\n    login_incorrect:\r\n      'Nazwa musi być dłuższa niż 4 znaki i nie może zawierać spacji',\r\n    email_incorrect: 'Brak @ w emailu',\r\n    password_incorrect: 'Hasło musi mieć od 8 do 20 znaków'\r\n  };\r\n\r\n  handleInputChange = e => {\r\n    const name = e.target.name;\r\n    const value = e.target.value;\r\n    this.setState({\r\n      [name]: value\r\n    });\r\n  };\r\n\r\n  handleSubmit = e => {\r\n    e.preventDefault();\r\n    const validation = this.formValidation();\r\n    if (validation.correct) {\r\n      fetch(`${config.baseCorsUrl}login/${this.state.login}.${this.state.pass}`)\r\n        .then(res => {\r\n          if (res.ok) {\r\n            return res.json();\r\n          } else {\r\n            throw new Error('error ', res.status);\r\n          }\r\n        })\r\n        .then(([data]) => {\r\n          if (data) {\r\n            this.setState({\r\n              message: 'Logowanie poprawne',\r\n              loading: false,\r\n              alert: false\r\n            });\r\n            localStorage.setItem('state', 'login');\r\n            this.props.history.push({\r\n              pathname: '/sensitive-cra/admin',\r\n              user: this.state.login\r\n            });\r\n          } else {\r\n            this.setState({\r\n              message: 'Błędny login lub hasło',\r\n              loading: false,\r\n              alert: true\r\n            });\r\n          }\r\n        })\r\n        .catch(err => console.log(err));\r\n\r\n      this.setState({\r\n        loading: true,\r\n\r\n        errors: {\r\n          login: false,\r\n          pass: false\r\n        }\r\n      });\r\n    } else {\r\n      this.setState({\r\n        errors: {\r\n          login: !validation.login,\r\n          pass: !validation.password\r\n        }\r\n      });\r\n    }\r\n  };\r\n\r\n  formValidation = () => {\r\n    let login = false;\r\n    let password = false;\r\n    let correct = false;\r\n\r\n    if (this.state.login.length >= 4 && this.state.login.indexOf(' ') === -1) {\r\n      login = true;\r\n    }\r\n    //  if (this.state.email.indexOf('@') !== -1) {\r\n    //       email = true\r\n    //     }\r\n    if (this.state.pass.length >= 8 && this.state.pass.length <= 20) {\r\n      password = true;\r\n    }\r\n\r\n    if (login && password) {\r\n      correct = true;\r\n    }\r\n\r\n    return {\r\n      correct,\r\n      login,\r\n      password\r\n    };\r\n  };\r\n\r\n  render() {\r\n    return (\r\n      <>\r\n        <form className=\"form myForm\" onSubmit={this.handleSubmit} noValidate>\r\n          <h2>Panel logowania</h2>\r\n          <div className=\"form__field\">\r\n            <input\r\n              type=\"text\"\r\n              name=\"login\"\r\n              id=\"login\"\r\n              className={\r\n                this.state.errors.login\r\n                  ? 'form__input invalidate'\r\n                  : this.state.login.length > 0\r\n                  ? 'form__input filled'\r\n                  : 'form__input'\r\n              }\r\n              value={this.state.login}\r\n              onChange={this.handleInputChange}\r\n            />\r\n            <label htmlFor=\"login\" className=\"form__label\">\r\n              Login\r\n            </label>\r\n            {this.state.errors.login && (\r\n              <span className=\"form__alert\">\r\n                {this.messages.login_incorrect}\r\n              </span>\r\n            )}\r\n          </div>\r\n\r\n          <div className=\"form__field\">\r\n            <input\r\n              type=\"password\"\r\n              name=\"pass\"\r\n              id=\"pass\"\r\n              className={\r\n                this.state.errors.pass\r\n                  ? 'form__input invalidate'\r\n                  : this.state.pass.length > 0\r\n                  ? 'form__input filled'\r\n                  : 'form__input'\r\n              }\r\n              value={this.state.pass}\r\n              onChange={this.handleInputChange}\r\n            />\r\n            <label htmlFor=\"pass\" className=\"form__label\">\r\n              Hasło\r\n            </label>\r\n            {this.state.errors.pass && (\r\n              <span className=\"form__alert\">\r\n                {this.messages.password_incorrect}\r\n              </span>\r\n            )}\r\n          </div>\r\n\r\n          <button className=\"btn form__button\">Zaloguj</button>\r\n        </form>\r\n        <aside className=\"otherInformation\">\r\n          {this.state.loading && <Loader />}\r\n          {this.state.message && (\r\n            <h3\r\n              className={\r\n                this.state.alert ? 'form__alert' : 'form__confirmation'\r\n              }\r\n            >\r\n              {this.state.message}\r\n            </h3>\r\n          )}\r\n        </aside>\r\n      </>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Loginpage;\r\n","import React, { Component } from 'react';\r\nimport { Route, Redirect } from 'react-router-dom';\r\nimport Loader from '../components/Loader';\r\nimport '../style/forms.css';\r\n\r\nclass Logoutpage extends Component {\r\n\r\n  state = {\r\n    redirect: false,\r\n  }\r\n\r\n  componentDidMount() {\r\n    localStorage.removeItem('state', 'login');\r\n    setTimeout(() => this.setState({ redirect: true }), 500)\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <>\r\n        <Route render={() => (\r\n          !this.state.redirect ? (\r\n            <div>\r\n              <h3>Wylogowano</h3>\r\n              <Loader />\r\n            </div>\r\n          ) : (<Redirect to=\"/sensitive-cra/\" />)\r\n        )} />\r\n      </>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Logoutpage;","import React from 'react';\r\nimport '../style/errorpage.css';\r\n\r\nconst Errorpage = () => {\r\n  return (\r\n    <div className=\"container\">\r\n      <h3 className=\"err-info\">Błąd</h3>\r\n      <h2 className=\"bigInt\">404</h2>\r\n      <h3 className=\"err-info\">Strona o podanym adresie nie istnieje</h3>\r\n      <div className=\"fly\"></div>\r\n\r\n      <div className=\"err-kittyCont\">\r\n        <div className=\"err-kitty\">\r\n          <div className=\"err-body\"></div>\r\n          <div className=\"err-head\">\r\n            <div className=\"err-ears\">\r\n              <div className=\"err-ear-left\"></div>\r\n              <div className=\"err-ear-right\"></div>\r\n            </div>\r\n            <div className=\"err-face\">\r\n              <div className=\"err-eye-left\"></div>\r\n              <div className=\"err-eye-right\"></div>\r\n              <div className=\"err-nose\"></div>\r\n              <div className=\"whiskers-right\"></div>\r\n              <div className=\"whiskers-left\"></div>\r\n            </div>\r\n          </div>\r\n          <div className=\"err-tail\"></div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Errorpage;\r\n","import React from 'react';\r\nimport { Route, Switch } from 'react-router-dom';\r\nimport Homepage from '../pages/Homepage';\r\nimport Storypage from '../pages/Storypage';\r\nimport Adminpage from '../pages/Adminpage';\r\nimport Loginpage from '../pages/Loginpage';\r\nimport Logoutpage from '../pages/Logoutpage';\r\nimport Errorpage from '../pages/Errorpage';\r\n\r\nconst Page = () => {\r\n  return (\r\n    <>\r\n      <Switch>\r\n        {/* <Route path=\"/\" exact component={Homepage} />\r\n        <Route path=\"#/story/:id\" component={Storypage} />\r\n        <Route path=\"../admin\" component={Adminpage} />\r\n        <Route path=\"../login\" component={Loginpage} />\r\n        <Route path=\"../logout\" component={Logoutpage} />\r\n        <Route component={Errorpage} /> */}\r\n        <Route path=\"/sensitive-cra/\" exact component={Homepage} />\r\n        <Route path=\"/sensitive-cra/story/:id\" component={Storypage} />\r\n        <Route path=\"/sensitive-cra/admin\" component={Adminpage} />\r\n        <Route path=\"/sensitive-cra/login\" component={Loginpage} />\r\n        <Route path=\"/sensitive-cra/logout\" component={Logoutpage} />\r\n        <Route component={Errorpage} />\r\n      </Switch>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default Page;\r\n","import React from 'react';\r\nimport '../style/footer.css'\r\n\r\nconst Footer = () => {\r\n  return (\r\n    <>\r\n      <p>Sensitive</p>\r\n\r\n    </>\r\n  );\r\n}\r\n\r\nexport default Footer;","import React from 'react';\r\nimport '../style/kitty.css';\r\n\r\nconst Kitty = () => {\r\n  return (\r\n    <>\r\n      <div className=\"kittyContainer\">\r\n        <div className=\"kitty\">\r\n          <div className=\"body\"></div>\r\n          <div className=\"head\">\r\n            <div className=\"ears\">\r\n              <div className=\"ear-left\"></div>\r\n              <div className=\"ear-right\"></div>\r\n            </div>\r\n            <div className=\"face\">\r\n              <div className=\"eye-left\"></div>\r\n              <div className=\"eye-right\"></div>\r\n              <div className=\"nose\"></div>\r\n            </div>\r\n          </div>\r\n          <div className=\"tail\"></div>\r\n        </div>\r\n      </div>\r\n    </>\r\n  );\r\n}\r\n\r\nexport default Kitty;","import React, { Component } from 'react';\nimport { BrowserRouter as Router } from 'react-router-dom';\nimport { library } from '@fortawesome/fontawesome-svg-core';\nimport {\n  faChevronLeft,\n  faChevronRight,\n  faHome,\n  faUser,\n  faPowerOff,\n  faSun,\n  faMoon,\n  faEye,\n  faEyeSlash,\n  faTrash,\n  faEdit,\n  faPlus,\n  faTimes\n} from '@fortawesome/free-solid-svg-icons';\nimport Header from './Header';\nimport Navigation from './Navigation';\nimport Page from './Page';\nimport Footer from './Footer';\nimport Kitty from './Kitty';\nimport '../style/app.css';\n\nlibrary.add(\n  faChevronLeft,\n  faChevronRight,\n  faHome,\n  faUser,\n  faPowerOff,\n  faSun,\n  faMoon,\n  faEye,\n  faEyeSlash,\n  faTrash,\n  faEdit,\n  faPlus,\n  faTimes\n);\n\nclass App extends Component {\n  state = {\n    lightMode: false\n  };\n\n  handleColorMode = () => {\n    this.setState(prevState => ({ lightMode: !prevState.lightMode }));\n  };\n\n  render() {\n    return (\n      <Router>\n        <div\n          className={\n            this.state.lightMode ? 'appContainer light-mode' : 'appContainer'\n          }\n        >\n          <nav className=\"navigation\">\n            {\n              <Navigation\n                changeColor={this.handleColorMode}\n                lightMode={this.state.lightMode}\n              />\n            }\n          </nav>\n          <header className=\"banner\">{<Header />}</header>\n          <main className=\"mainContainer\">{<Page />}</main>\n          <footer className=\"footer\">{<Footer />}</footer>\n          <Kitty />\n        </div>\n      </Router>\n    );\n  }\n}\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' }\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './layout/App';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(<App />, document.getElementById('root'));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}