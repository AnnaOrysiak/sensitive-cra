{"version":3,"sources":["layout/Header.js","components/Loader.js","components/StoryList.js","api/config.js","api/storyApi.js","layout/Navigation.js","components/News.js","api/newsApi.js","pages/Homepage.js","components/Story.js","pages/Storypage.js","pages/admin/components/StoryElement.js","pages/admin/components/Editor.js","pages/admin/components/TypeInputs.js","pages/admin/components/StoryMainProperties.js","pages/admin/components/AuthorsInputs.js","pages/admin/EditStory.js","pages/admin/StoriesList.js","pages/admin/components/NewsElement.js","pages/admin/NewsList.js","api/usersApi.js","pages/admin/AdminPanel.js","pages/Adminpage.js","pages/Loginpage.js","pages/Logoutpage.js","pages/Errorpage.js","layout/Page.js","layout/Footer.js","layout/Kitty.js","layout/App.js","serviceWorker.js","index.js"],"names":["Header","className","Loader","StoryList","props","stories","navigationHandler","storiesList","shortStories","filterTitle","title","chapters","filter","story","push","key","_id","to","id","onClick","chapter_title","longStories","i","length","getStoriesTitlesList","forEach","item","config","baseUrl","baseCorsUrl","adminUrl","adminCorsUrl","StoryApi","fetch","then","res","ok","json","Error","status","catch","err","author","data","console","log","method","body","JSON","stringify","headers","Navigation","state","active","setState","prevState","checkPermission","localStorage","getItem","this","exact","icon","size","changeColor","lightMode","Component","News","description","date","utfDate","Date","toLocaleDateString","urlAuth","NewsApi","Homepage","news","generateNews","map","newsApi","getAllNews","Story","type","content","storyAuthors","authors","index","parse","Storypage","fetchNewStory","match","params","storyApi","getStoryById","prevProps","StoryElement","visible","handleDeleteStory","handleUpdateStory","handleEditStory","value","TextEditor","editorState","EditorState","createEmpty","onEditorStateChange","file","Promise","resolve","reject","reader","FileReader","onload","e","link","target","result","onerror","readAsDataURL","blocksFromHTML","convertFromHTML","ContentState","createFromBlockArray","contentBlocks","entityMap","createWithContent","toolbarClassName","wrapperClassName","editorClassName","toolbar","options","textAlign","inDropdown","blockType","inline","list","image","previewImage","uploadCallback","uploadImageCallBack","placeholder","readOnly","draftToHtml","convertToRaw","getCurrentContent","onMouseLeave","handleChange","name","TypeInputs","type_message","errors","handleTypeChange","checked","onChange","htmlFor","disabled","StoryMainProperties","title_message","chapter_title_message","handlerOnChange","minLength","required","AuthorsInputs","allAuthors","authors_message","checkChange","login","EditStory","messages","content_message","formValidate","Object","entries","handleSubmit","preventDefault","updateStoryById","createNewStory","alert","convertToObject","array","reduce","keys","editContent","StoriesList","editmode","edit_content","storyModel","generateStoriesList","deleteStoryFromState","updateStoryFromState","deleteStoryById","getStoriesByAuthor","NewsElement","handleDeleteNews","NewsList","generateNewsList","deleteNewsFromState","deleteNewsById","usersApi","AdminPanel","user","getAllUsers","Adminpage","render","permission","Loginpage","pass","login_incorrect","email_incorrect","password_incorrect","handleInputChange","validation","formValidation","correct","message","loading","setItem","history","pathname","password","indexOf","onSubmit","noValidate","Logoutpage","redirect","removeItem","setTimeout","Errorpage","Page","path","component","Footer","Kitty","library","add","faChevronLeft","faChevronRight","faHome","faUser","faPowerOff","faSun","faMoon","faEye","faEyeSlash","faTrash","faEdit","faPlus","App","handleColorMode","Boolean","window","location","hostname","ReactDOM","document","getElementById","navigator","serviceWorker","ready","registration","unregister"],"mappings":"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","file":"static/js/main.059f9014.chunk.js","sourcesContent":["import React from 'react';\r\nimport '../style/header.css';\r\n\r\nconst Header = () => {\r\n  return (\r\n    <>\r\n      <div className=\"header\">\r\n        <h1>Sensitive</h1>\r\n      </div>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default Header;\r\n","import React from 'react';\r\nimport '../style/loader.css';\r\n\r\nconst Loader = () => {\r\n  return (\r\n    <div className=\"loading-circle\">\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Loader;","import React from 'react';\r\nimport { NavLink } from 'react-router-dom';\r\n\r\nconst StoryList = (props) => {\r\n\r\n  const { stories, navigationHandler } = props;\r\n  const storiesList = [];\r\n  const shortStories = [];\r\n\r\n  function getStoriesTitlesList() {\r\n    const longStories = [];\r\n    for (let i = 0; i < stories.length; i++) {\r\n      if (i === 0 && stories[i].chapter_title) {\r\n        longStories.push(stories[i].title)\r\n      } else if (stories[i].title !== stories[i - 1].title && stories[i].chapter_title) longStories.push(stories[i].title)\r\n      else if (stories[i].title !== stories[i - 1].title) {\r\n        shortStories.push(stories[i].title)\r\n      }\r\n    }\r\n    return longStories;\r\n  }\r\n\r\n  function filterTitle(title, storiesList) {\r\n    const chapters = [];\r\n    storiesList.filter((story) => {\r\n      if (story.title === title) {\r\n        chapters.push(\r\n          <li key={story._id}>\r\n            <NavLink to={`/sensitive-cra/story/${story._id}`} id={story._id} onClick={navigationHandler} className={story.chapter_title ? \"storyBox__item\" : \"storyBox__item storyBox__item--short storyBox__title\"}>{story.chapter_title ? story.chapter_title : story.title}</NavLink>\r\n          </li>\r\n        )\r\n      }\r\n      return story.title === title\r\n    })\r\n    return chapters;\r\n  }\r\n\r\n\r\n  getStoriesTitlesList().forEach((item, id) => {\r\n    storiesList.push(\r\n      <li key={item + id} className=\"storyBox storyBox--long\">\r\n        <h3 className=\"storyBox__title\">{item}</h3>\r\n        <ul className=\"storyBox__list\">\r\n          {filterTitle(item, stories)}\r\n        </ul>\r\n      </li>)\r\n  })\r\n\r\n  shortStories.forEach((item, id) => {\r\n    storiesList.push(\r\n      <li className=\"storyBox\" key={item + id}>\r\n        <h3>\r\n          {filterTitle(item, stories)}\r\n        </h3>\r\n      </li>)\r\n  })\r\n\r\n\r\n  return (\r\n    <>\r\n      <ul>\r\n        {storiesList}\r\n      </ul>\r\n    </>\r\n  );\r\n}\r\n\r\nexport default StoryList;","const config = {\r\n  baseUrl: \"https://sensitive-express.herokuapp.com/api/\",\r\n  baseCorsUrl: \"https://cors-anywhere.herokuapp.com/https://sensitive-express.herokuapp.com/api/\",\r\n  adminUrl: \"https://sensitive-express.herokuapp.com/api/admin/\",\r\n  adminCorsUrl: \"https://cors-anywhere.herokuapp.com/https://sensitive-express.herokuapp.com/api/admin/\"\r\n}\r\n\r\nexport default config;","import config from '../api/config';\r\n\r\n// url changed after login\r\n// const urlAuth = localStorage.getItem('state') ? config.adminCorsUrl : config.baseCorsUrl;\r\n\r\nclass StoryApi {\r\n  static getAllStories() {\r\n    return fetch(`${config.baseCorsUrl}stories`)\r\n      .then(res => {\r\n        if (res.ok) {\r\n          return res.json();\r\n        } else {\r\n          throw new Error('error ', res.status);\r\n        }\r\n      })\r\n      .catch(err => err);\r\n  }\r\n\r\n  static getStoryById(id = '') {\r\n    return fetch(`${config.baseCorsUrl}story/${id}`)\r\n      .then(res => {\r\n        if (res.ok) {\r\n          return res.json();\r\n        } else {\r\n          throw new Error('error ', res.status);\r\n        }\r\n      })\r\n      .catch(err => err);\r\n  }\r\n\r\n  static getStoriesByAuthor(author = '') {\r\n    return fetch(`${config.adminCorsUrl}stories/${author}`)\r\n      .then(res => {\r\n        if (res.ok) {\r\n          return res.json();\r\n        } else {\r\n          throw new Error('error ', res.status);\r\n        }\r\n      })\r\n      .catch(err => err);\r\n  }\r\n\r\n  static createNewStory(data) {\r\n    console.log(data);\r\n    return fetch(`${config.adminCorsUrl}story/add`, {\r\n      method: 'POST',\r\n      body: JSON.stringify(data),\r\n      headers: {\r\n        'Content-Type': 'application/json'\r\n      }\r\n    })\r\n      .then(res => {\r\n        if (res.ok) {\r\n          return res.json();\r\n        } else {\r\n          throw new Error('error ', res.status);\r\n        }\r\n      })\r\n      .catch(err => err);\r\n  }\r\n\r\n  static deleteStoryById(id) {\r\n    return fetch(`${config.adminCorsUrl}story/delete/${id}`)\r\n      .then(res => {\r\n        if (res.ok) {\r\n          return res.json();\r\n        } else {\r\n          throw new Error('error ', res.status);\r\n        }\r\n      })\r\n      .catch(err => err);\r\n  }\r\n\r\n  static updateStoryById(id, data) {\r\n    console.log(id, data);\r\n    return fetch(`${config.adminCorsUrl}story/update/${id}`, {\r\n      method: 'PATCH',\r\n      body: JSON.stringify(data),\r\n      headers: {\r\n        'Content-Type': 'application/json'\r\n      }\r\n    })\r\n      .then(res => {\r\n        if (res.ok) {\r\n          return res.json();\r\n        } else {\r\n          throw new Error('error ', res.status);\r\n        }\r\n      })\r\n      .catch(err => err);\r\n  }\r\n}\r\n\r\nexport default StoryApi;\r\n","import React, { Component } from 'react';\r\nimport { NavLink } from 'react-router-dom';\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\r\nimport Loader from '../components/Loader';\r\nimport StoryList from '../components/StoryList';\r\nimport storyApi from '../api/storyApi';\r\nimport '../style/navigation.css';\r\n\r\nclass Navigation extends Component {\r\n  state = {\r\n    active: false,\r\n    stories: []\r\n  };\r\n\r\n  navigationHandler = () => {\r\n    this.setState(prevState => ({ active: !prevState.active }));\r\n  };\r\n\r\n  checkPermission = () => {\r\n    return localStorage.getItem('state');\r\n  };\r\n\r\n  componentDidMount() {\r\n    // storyApi.getAllStories()\r\n    //   .then(data => this.setState({ stories: data }))\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <>\r\n        <div className={this.state.active ? 'menu active' : 'menu'}>\r\n          <section className=\"icons\">\r\n            <NavLink\r\n              to=\"/sensitive-cra/\"\r\n              onClick={this.navigationHandler}\r\n              exact\r\n            >\r\n              <FontAwesomeIcon icon=\"home\" size=\"2x\" />\r\n            </NavLink>\r\n            <NavLink to=\"/sensitive-cra/admin\" onClick={this.navigationHandler}>\r\n              <FontAwesomeIcon icon=\"user\" size=\"2x\" />\r\n            </NavLink>\r\n            {this.checkPermission() && (\r\n              <NavLink\r\n                to=\"/sensitive-cra/logout\"\r\n                onClick={this.navigationHandler}\r\n              >\r\n                <FontAwesomeIcon icon=\"power-off\" size=\"2x\" />\r\n              </NavLink>\r\n            )}\r\n\r\n            <button className=\"btn\" onClick={this.props.changeColor}>\r\n              <FontAwesomeIcon\r\n                icon={this.props.lightMode ? 'moon' : 'sun'}\r\n                size=\"2x\"\r\n              />\r\n            </button>\r\n          </section>\r\n\r\n          <h3 className=\"menu__header\">Opowiadania</h3>\r\n          {this.state.stories.length ? (\r\n            <StoryList\r\n              stories={this.state.stories}\r\n              navigationHandler={this.navigationHandler}\r\n            />\r\n          ) : (\r\n            <Loader />\r\n          )}\r\n        </div>\r\n\r\n        <div\r\n          className={\r\n            this.state.active ? 'btn menu-button active' : 'btn menu-button'\r\n          }\r\n          onClick={this.navigationHandler}\r\n        >\r\n          {/* <span className=\"menu-button__bar\"></span>\r\n          <span className=\"menu-button__bar\"></span>\r\n          <span className=\"menu-button__bar\"></span> */}\r\n          <FontAwesomeIcon icon=\"chevron-right\" size=\"2x\" />\r\n        </div>\r\n      </>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Navigation;\r\n","import React from 'react';\r\n\r\nconst News = (props) => {\r\n\r\n  const { title, description, date } = props;\r\n  const utfDate = new Date(date);\r\n\r\n  return (\r\n    <article className=\"articleNews\">\r\n      <h3>{title}</h3>\r\n      <span>{utfDate.toLocaleDateString()}</span>\r\n      <p className=\"articleNews__description\">{description}</p>\r\n    </article>\r\n\r\n  );\r\n}\r\n\r\nexport default News;","import config from '../api/config';\r\n\r\n// url changed after login\r\nconst urlAuth = localStorage.getItem('state') ? config.adminCorsUrl : config.baseCorsUrl;\r\n\r\nclass NewsApi {\r\n\r\n  static getAllNews() {\r\n    return fetch(`${urlAuth}news`)\r\n      .then(res => {\r\n        if (res.ok) {\r\n          return res.json()\r\n        } else {\r\n          throw new Error(\"error \", res.status)\r\n        }\r\n      })\r\n      .catch(err => err)\r\n  }\r\n\r\n  static deleteNewsById(id) {\r\n    return fetch(`${urlAuth}news/delete/${id}`)\r\n      .then(res => {\r\n        if (res.ok) {\r\n          return res.json()\r\n        } else {\r\n          throw new Error(\"error \", res.status)\r\n        }\r\n      })\r\n      .catch(err => err)\r\n  }\r\n\r\n}\r\n\r\nexport default NewsApi;","import React, { Component } from 'react';\r\nimport News from '../components/News';\r\nimport Loader from '../components/Loader';\r\nimport newsApi from '../api/newsApi';\r\nimport '../style/main.css';\r\n\r\nclass Homepage extends Component {\r\n  state = { news: [] }\r\n\r\n  generateNews = () => {\r\n    const newsTemplates = this.state.news.map(news =>\r\n      <News key={news._id} title={news.title} date={news.date} description={news.description} />\r\n    )\r\n    return newsTemplates;\r\n  }\r\n\r\n  componentDidMount() {\r\n    newsApi.getAllNews()\r\n      .then(data => this.setState({ news: data }))\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <>\r\n        {this.state.news.length ? this.generateNews() : <Loader />}\r\n      </>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Homepage;","import React from 'react';\r\nimport parse from 'html-react-parser';\r\nimport '../style/story.css';\r\n\r\nconst Story = (props) => {\r\n  const { type, title, chapter_title, content, authors } = props.story;\r\n\r\n  const storyAuthors = authors.map((author, index) => <span className=\"story__author\" key={index}>{author}</span>)\r\n\r\n  return (\r\n    <article className=\"story\">\r\n      <small>{type === \"story\" ? title + ' / ' + chapter_title : `${title} (${type})`}</small>\r\n      <h3 className=\"story__title\">{type === \"story\" ? chapter_title : title}</h3>\r\n      <div className=\"story__content\">{parse(content)}</div>\r\n      <p className=\"story__authors\">{storyAuthors}</p>\r\n    </article>\r\n\r\n  );\r\n}\r\n\r\nexport default Story;","import React, { Component } from 'react';\r\nimport Story from '../components/Story';\r\nimport Loader from '../components/Loader';\r\nimport storyApi from '../api/storyApi';\r\n\r\nclass Storypage extends Component {\r\n  state = {\r\n    story: [],\r\n  }\r\n\r\n  fetchNewStory = () => {\r\n    const id = this.props.match.params.id;\r\n    storyApi.getStoryById(id)\r\n      .then(data => this.setState({ story: data }))\r\n  }\r\n\r\n  componentDidMount() {\r\n    this.fetchNewStory();\r\n  }\r\n\r\n  componentDidUpdate(prevProps, prevState) {\r\n    if (this.props.match.params.id !== prevProps.match.params.id) {\r\n      this.fetchNewStory();\r\n    }\r\n  }\r\n\r\n  render() {\r\n    const { story } = this.state;\r\n\r\n    return (\r\n      <>\r\n        {story._id ? <Story story={story} /> : <Loader />}\r\n      </>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Storypage;\r\n","import React from 'react';\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\r\n\r\nconst StoryElement = ({\r\n  id,\r\n  title,\r\n  chapter_title,\r\n  visible,\r\n  handleDeleteStory,\r\n  handleUpdateStory,\r\n  handleEditStory\r\n}) => {\r\n  return (\r\n    <div className=\"storyListItem\">\r\n      <button\r\n        className=\"listBtn\"\r\n        value={visible}\r\n        onClick={() => handleUpdateStory(id, { visible: !visible })}\r\n      >\r\n        <FontAwesomeIcon icon={visible ? 'eye' : 'eye-slash'} />\r\n      </button>\r\n      <p className=\"storyListItem__title\">\r\n        {chapter_title ? chapter_title : title}\r\n      </p>\r\n      <p className=\"storyListItem__title small\">\r\n        {chapter_title ? `(${title})` : '(one-shot)'}\r\n      </p>\r\n      <button className=\"listBtn\" onClick={() => handleEditStory()}>\r\n        <FontAwesomeIcon icon=\"edit\" />\r\n      </button>\r\n      <button\r\n        className=\"listBtn\"\r\n        value={id}\r\n        onClick={() => handleDeleteStory(id)}\r\n      >\r\n        <FontAwesomeIcon icon=\"trash\" />\r\n      </button>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default StoryElement;\r\n","import React, { Component } from 'react';\r\nimport {\r\n  EditorState,\r\n  ContentState,\r\n  convertToRaw,\r\n  convertFromHTML\r\n} from 'draft-js';\r\nimport draftToHtml from 'draftjs-to-html';\r\nimport { Editor } from 'react-draft-wysiwyg';\r\n// import CustomOption from './CustomOption';\r\nimport '../../../../node_modules/react-draft-wysiwyg/dist/react-draft-wysiwyg.css';\r\nimport '../style/editor.css';\r\n\r\nclass TextEditor extends Component {\r\n  state = {\r\n    editorState: EditorState.createEmpty()\r\n  };\r\n\r\n  onEditorStateChange = editorState => {\r\n    this.setState({\r\n      editorState\r\n    });\r\n  };\r\n\r\n  uploadImageCallBack(file) {\r\n    return new Promise((resolve, reject) => {\r\n      const reader = new FileReader(); // eslint-disable-line no-undef\r\n      reader.onload = e => resolve({ data: { link: e.target.result } });\r\n      reader.onerror = e => reject(e);\r\n      reader.readAsDataURL(file);\r\n    });\r\n  }\r\n\r\n  componentDidUpdate(prevProps) {\r\n    if (prevProps.content !== this.props.content) {\r\n      const blocksFromHTML = convertFromHTML(this.props.content);\r\n      const state = ContentState.createFromBlockArray(\r\n        blocksFromHTML.contentBlocks,\r\n        blocksFromHTML.entityMap\r\n      );\r\n      this.setState({\r\n        editorState: EditorState.createWithContent(state)\r\n      });\r\n    }\r\n  }\r\n\r\n  render() {\r\n    const { editorState } = this.state;\r\n    return (\r\n      <div className=\"rdw-storybook-root\">\r\n        <Editor\r\n          editorState={editorState}\r\n          // defaultEditorState={editorState}\r\n          toolbarClassName=\"rdw-storybook-toolbar\"\r\n          wrapperClassName=\"rdw-storybook-wrapper\"\r\n          editorClassName=\"rdw-storybook-editor\"\r\n          onEditorStateChange={this.onEditorStateChange}\r\n          toolbar={{\r\n            options: ['textAlign', 'blockType', 'inline', 'list', 'image'],\r\n            textAlign: {\r\n              inDropdown: false,\r\n              options: ['left', 'center', 'right', 'justify']\r\n            },\r\n            blockType: {\r\n              inDropdown: false,\r\n              options: ['Normal', 'H5', 'H6']\r\n            },\r\n            inline: {\r\n              options: [\r\n                'bold',\r\n                'italic',\r\n                'underline',\r\n                'strikethrough',\r\n                'monospace'\r\n              ]\r\n            },\r\n            list: {\r\n              options: ['unordered', 'ordered']\r\n            },\r\n            image: {\r\n              // className: undefined,\r\n              // component: undefined,\r\n              // popupClassName: undefined,\r\n              // urlEnabled: true,\r\n              // uploadEnabled: false,\r\n              previewImage: true,\r\n              // alignmentEnabled: true,\r\n              uploadCallback: this.uploadImageCallBack\r\n              // inputAccept: \"image/gif,image/jpeg,image/jpg,image/png,image/svg\",\r\n              // alt: { present: true, mandatory: true }\r\n              // defaultSize: {\r\n              //   height: \"auto\",\r\n              //   width: \"50%\"\r\n              // },\r\n              // title: undefined\r\n            }\r\n          }}\r\n          // toolbarCustomButtons={[<CustomOption />]}\r\n          placeholder=\"Pisz tutaj\"\r\n        />\r\n\r\n        <textarea\r\n          readOnly\r\n          className=\"rdw-storybook-textarea invisible\"\r\n          value={draftToHtml(convertToRaw(editorState.getCurrentContent()))}\r\n          onMouseLeave={this.props.handleChange}\r\n          name=\"content\"\r\n        />\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default TextEditor;\r\n","import React from 'react';\r\n\r\nconst TypeInputs = ({\r\n  type,\r\n  chapter_title,\r\n  type_message,\r\n  errors,\r\n  handleTypeChange\r\n}) => {\r\n  return (\r\n    <section className=\"form__options\">\r\n      <legend>Rodzaj</legend>\r\n      <fieldset className=\"form__field\">\r\n        <input\r\n          type=\"radio\"\r\n          id=\"story\"\r\n          name=\"type\"\r\n          value=\"story\"\r\n          checked={type === 'story'}\r\n          onChange={handleTypeChange}\r\n        />\r\n        <label htmlFor=\"story\">opowiadanie</label>\r\n        <br />\r\n        <input\r\n          type=\"radio\"\r\n          id=\"one-shot\"\r\n          name=\"type\"\r\n          value=\"one-shot\"\r\n          checked={type === 'one-shot'}\r\n          disabled={chapter_title}\r\n          onChange={handleTypeChange}\r\n        />\r\n        <label htmlFor=\"one-shot\">one-shot</label>\r\n      </fieldset>\r\n\r\n      {errors.type && <span className=\"form__alert\">{type_message}</span>}\r\n    </section>\r\n  );\r\n};\r\n\r\nexport default TypeInputs;\r\n","import React from 'react';\r\n\r\nconst StoryMainProperties = ({\r\n  type,\r\n  title,\r\n  chapter_title,\r\n  title_message,\r\n  chapter_title_message,\r\n  errors,\r\n  handlerOnChange\r\n}) => {\r\n  return (\r\n    <>\r\n      <section className=\"form__options\">\r\n        <div className=\"form__field\">\r\n          <input\r\n            type=\"text\"\r\n            name=\"title\"\r\n            id=\"title\"\r\n            className={title.length > 0 ? 'form__input filled' : 'form__input'}\r\n            value={title}\r\n            onChange={handlerOnChange}\r\n            minLength=\"2\"\r\n            required\r\n          />\r\n          <label htmlFor=\"title\" className=\"form__label\">\r\n            Tytuł\r\n          </label>\r\n        </div>\r\n\r\n        {errors.title && <span className=\"form__alert\">{title_message}</span>}\r\n      </section>\r\n\r\n      <section className=\"form__options\">\r\n        <div className=\"form__field\">\r\n          <input\r\n            type=\"text\"\r\n            name=\"chapter_title\"\r\n            id=\"chapter_title\"\r\n            className={\r\n              chapter_title && chapter_title.length > 0\r\n                ? 'form__input filled'\r\n                : 'form__input'\r\n            }\r\n            value={type !== 'one-shot' && chapter_title}\r\n            onChange={handlerOnChange}\r\n            disabled={type === 'one-shot'}\r\n            minLength=\"1\"\r\n            required\r\n          />\r\n          <label htmlFor=\"chapter__title\" className=\"form__label\">\r\n            Rozdział\r\n          </label>\r\n        </div>\r\n\r\n        {type !== 'one-shot' && errors.chapter_title && (\r\n          <span className=\"form__alert\">{chapter_title_message}</span>\r\n        )}\r\n      </section>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default StoryMainProperties;\r\n","import React from 'react';\r\n\r\nconst AuthorsInputs = ({\r\n  allAuthors,\r\n  author,\r\n  authors_message,\r\n  errors,\r\n  checkChange\r\n}) => {\r\n  const generateAuthors = () => {\r\n    return allAuthors.map((item, index) =>\r\n      item.login !== author ? (\r\n        <label key={index}>\r\n          <input\r\n            type=\"checkbox\"\r\n            name=\"authors\"\r\n            value={item.login}\r\n            onChange={checkChange}\r\n          />\r\n          {item.login}\r\n        </label>\r\n      ) : (\r\n        <label key={index}>\r\n          <input\r\n            type=\"checkbox\"\r\n            id=\"authors\"\r\n            value={author}\r\n            checked={true}\r\n            readOnly\r\n          />\r\n          {author}\r\n        </label>\r\n      )\r\n    );\r\n  };\r\n\r\n  return (\r\n    <section className=\"form__options\">\r\n      <fieldset className=\"form__field\">\r\n        <legend>Autorzy</legend>\r\n        {generateAuthors()}\r\n        <br />\r\n      </fieldset>\r\n\r\n      {errors.authors && <span className=\"form__alert\">{authors_message}</span>}\r\n    </section>\r\n  );\r\n};\r\n\r\nexport default AuthorsInputs;\r\n","import React, { Component } from 'react';\r\nimport TextEditor from './components/Editor';\r\nimport TypeInputs from './components/TypeInputs';\r\nimport StoryMainProperties from './components/StoryMainProperties';\r\nimport AuthorsInputs from './components/AuthorsInputs';\r\nimport storyApi from '../../api/storyApi';\r\nimport '../../style/forms.css';\r\n\r\nclass EditStory extends Component {\r\n  state = {\r\n    _id: '',\r\n    type: '',\r\n    title: '',\r\n    chapter_title: false,\r\n    content: '',\r\n    authors: [],\r\n    errors: {\r\n      type: false,\r\n      authors: false,\r\n      title: false,\r\n      chapter_title: false,\r\n      content: false\r\n    },\r\n    checked: {}\r\n  };\r\n\r\n  messages = {\r\n    type_message: 'Wybierz typ',\r\n    authors_message: 'Dodaj autorów',\r\n    title_message: 'Nadaj tytuł',\r\n    chapter_title_message: 'Uzupełnij to pole',\r\n    content_message: 'Uzupełnij treść'\r\n  };\r\n\r\n  formValidate = () => {\r\n    const type = this.state.type === '';\r\n    const chapter_title =\r\n      this.state.type === 'story' &&\r\n      (this.state.chapter_title === false || this.state.chapter_title === '');\r\n    const title = this.state.title === '';\r\n    const content = this.state.content.length < 10;\r\n    const authors = this.state.authors.length === 0;\r\n\r\n    this.setState({\r\n      errors: {\r\n        type,\r\n        title,\r\n        chapter_title,\r\n        content,\r\n        authors\r\n      }\r\n    });\r\n\r\n    return !type && !title && !chapter_title && !content && !authors;\r\n  };\r\n\r\n  handleTypeChange = e => {\r\n    this.formValidate();\r\n    this.setState({ type: e.target.value });\r\n  };\r\n\r\n  handlerOnChange = e => {\r\n    this.formValidate();\r\n\r\n    const authors = Object.entries(this.state.checked)\r\n      .filter(item => item[1] && item[0])\r\n      .map(item => item[0]);\r\n\r\n    if (e.target.type === 'checkbox') {\r\n      this.setState({\r\n        authors,\r\n        checked: { ...this.state.checked, [e.target.value]: e.target.checked }\r\n      });\r\n    } else {\r\n      this.setState({ authors, [e.target.name]: e.target.value });\r\n    }\r\n  };\r\n\r\n  handleSubmit = e => {\r\n    e.preventDefault();\r\n    const { _id, type, title, chapter_title, content, authors } = this.state;\r\n    if (this.formValidate()) {\r\n      console.log('aktualizuję dane');\r\n      let data;\r\n\r\n      if (type !== 'one-shot') {\r\n        data = { type, title, chapter_title, content, authors };\r\n      } else {\r\n        data = { type, title, content, authors };\r\n      }\r\n      console.log(data);\r\n      _id !== 'new'\r\n        ? storyApi.updateStoryById(_id, data)\r\n        : storyApi.createNewStory(data).then(data => console.log(data));\r\n    } else {\r\n      alert('Uzupełnij brakujące pola!');\r\n    }\r\n  };\r\n\r\n  convertToObject = (array, value) => {\r\n    return array\r\n      .map(item => ({ [item]: value }))\r\n      .reduce(function(result, item) {\r\n        const key = Object.keys(item)[0];\r\n        result[key] = item[key];\r\n        return result;\r\n      }, {});\r\n  };\r\n\r\n  componentDidMount() {\r\n    const {\r\n      _id,\r\n      type,\r\n      title,\r\n      chapter_title,\r\n      content,\r\n      authors\r\n    } = this.props.editContent;\r\n\r\n    const checked = this.convertToObject(authors, true);\r\n\r\n    this.setState({\r\n      _id,\r\n      type,\r\n      title,\r\n      chapter_title,\r\n      content,\r\n      checked,\r\n      authors\r\n    });\r\n  }\r\n\r\n  componentDidUpdate(prevProps) {\r\n    if (this.props.editContent !== prevProps.editContent) {\r\n      const checked = this.convertToObject(\r\n        this.props.editContent.authors,\r\n        true\r\n      );\r\n\r\n      this.setState({ ...this.props.editContent, checked });\r\n    }\r\n  }\r\n\r\n  render() {\r\n    const { type, title, chapter_title, content, errors } = this.state;\r\n    const {\r\n      type_message,\r\n      title_message,\r\n      chapter_title_message,\r\n      content_message,\r\n      authors_message\r\n    } = this.messages;\r\n\r\n    return (\r\n      <div className=\"editContainer\">\r\n        <h3>Tryb edycji</h3>\r\n\r\n        <form method=\"post\" className=\"form editForm\">\r\n          <TypeInputs\r\n            type={type}\r\n            chapter_title={chapter_title}\r\n            type_message={type_message}\r\n            errors={errors}\r\n            handleTypeChange={this.handleTypeChange}\r\n          />\r\n\r\n          <AuthorsInputs\r\n            author={this.props.author}\r\n            allAuthors={this.props.allAuthors}\r\n            authors_message={authors_message}\r\n            errors={errors}\r\n            checkChange={this.handlerOnChange}\r\n          />\r\n\r\n          <StoryMainProperties\r\n            type={type}\r\n            title={title}\r\n            chapter_title={chapter_title || ''}\r\n            title_message={title_message}\r\n            chapter_title_message={chapter_title_message}\r\n            errors={errors}\r\n            handlerOnChange={this.handlerOnChange}\r\n          />\r\n\r\n          <div className=\"form__editor\">\r\n            <TextEditor content={content} handleChange={this.handlerOnChange} />\r\n\r\n            {errors.content && (\r\n              <span className=\"form__alert\">{content_message}</span>\r\n            )}\r\n          </div>\r\n\r\n          <button\r\n            type=\"submit\"\r\n            className=\"btn form__button\"\r\n            onClick={this.handleSubmit}\r\n          >\r\n            Zatwierdź\r\n          </button>\r\n        </form>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default EditStory;\r\n","import React, { Component } from 'react';\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\r\nimport Loader from '../../components/Loader';\r\nimport StoryElement from './components/StoryElement';\r\nimport EditStory from './EditStory';\r\nimport storyApi from '../../api/storyApi';\r\n\r\nclass StoriesList extends Component {\r\n  state = {\r\n    stories: [],\r\n    editmode: false,\r\n    edit_content: {}\r\n  };\r\n\r\n  storyModel = {\r\n    _id: 'new',\r\n    type: '',\r\n    title: '',\r\n    chapter_title: false,\r\n    content: '',\r\n    authors: [this.props.author]\r\n  };\r\n\r\n  generateStoriesList = () => {\r\n    return this.state.stories.map(story => (\r\n      <StoryElement\r\n        key={story._id}\r\n        id={story._id}\r\n        title={story.title}\r\n        chapter_title={story.chapter_title}\r\n        visible={story.visible}\r\n        handleDeleteStory={this.handleDeleteStory}\r\n        handleUpdateStory={this.handleUpdateStory}\r\n        handleEditStory={() => this.handleEditStory(story)}\r\n      />\r\n    ));\r\n  };\r\n\r\n  deleteStoryFromState = id => {\r\n    this.setState(prevState => ({\r\n      stories: prevState.stories.filter(story => story._id !== id && story)\r\n    }));\r\n  };\r\n\r\n  updateStoryFromState = id => {\r\n    this.setState(prevState => ({\r\n      stories: prevState.stories.map(story =>\r\n        story._id === id ? { ...story, visible: !story.visible } : story\r\n      )\r\n    }));\r\n  };\r\n\r\n  handleDeleteStory = (id = '') => {\r\n    this.deleteStoryFromState(id);\r\n    storyApi.deleteStoryById(id);\r\n  };\r\n\r\n  handleUpdateStory = (id = '', data = {}) => {\r\n    this.updateStoryFromState(id);\r\n    storyApi.updateStoryById(id, data);\r\n  };\r\n\r\n  handleEditStory = (props = '') => {\r\n    console.log(props);\r\n    this.setState({\r\n      editmode: true,\r\n      edit_content: props\r\n    });\r\n  };\r\n\r\n  componentDidMount() {\r\n    storyApi\r\n      .getStoriesByAuthor(this.props.author)\r\n      .then(data => this.setState({ stories: data }));\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <>\r\n        <div className=\"adminStories\">\r\n          {this.state.editmode && (\r\n            <EditStory\r\n              author={this.props.author}\r\n              allAuthors={this.props.allAuthors}\r\n              editContent={\r\n                this.state.edit_content !== '' ? this.state.edit_content : ''\r\n              }\r\n            />\r\n          )}\r\n          <h3>Twoja twórczość</h3>\r\n          {this.state.stories.length > 0 ? (\r\n            this.generateStoriesList()\r\n          ) : (\r\n            <Loader />\r\n          )}\r\n          <div className=\"addListItem\">\r\n            <button\r\n              className=\"listBtn\"\r\n              onClick={() => this.handleEditStory(this.storyModel)}\r\n            >\r\n              <FontAwesomeIcon icon=\"plus\" />\r\n            </button>\r\n            <p className=\"storyListItem__title\">Nowy tytuł</p>\r\n          </div>\r\n        </div>\r\n      </>\r\n    );\r\n  }\r\n}\r\n\r\nexport default StoriesList;\r\n","import React from 'react';\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\r\n\r\nconst NewsElement = ({ title, date, id, handleDeleteNews }) => {\r\n  const utfDate = new Date(date);\r\n\r\n  return (\r\n    <div className='newsListItem'>\r\n      <div className='newsListItem__title'>\r\n        <h4>{title}</h4>\r\n        <p className='small'>{utfDate.toLocaleDateString()}</p>\r\n      </div>\r\n      <button className='listBtn'>\r\n        <FontAwesomeIcon icon=\"edit\" />\r\n      </button>\r\n      <button\r\n        className='listBtn'\r\n        value={id}\r\n        onClick={() => handleDeleteNews(id)}>\r\n        <FontAwesomeIcon icon=\"trash\" />\r\n      </button>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default NewsElement;\r\n","import React, { Component } from 'react';\r\nimport NewsElement from './components/NewsElement';\r\nimport newsApi from '../../api/newsApi';\r\nimport Loader from '../../components/Loader';\r\n\r\nclass NewsList extends Component {\r\n  state = {\r\n    news: []\r\n  }\r\n\r\n  generateNewsList = () => {\r\n    return this.state.news.map(item => <NewsElement key={item.date} title={item.title} date={item.date} id={item._id} handleDeleteNews={this.handleDeleteNews} />)\r\n  }\r\n\r\n  deleteNewsFromState = (id) => {\r\n    this.setState(prevState => ({\r\n      news: prevState.news.filter(item => item._id !== id && item)\r\n    }))\r\n  }\r\n\r\n  handleDeleteNews = (id = '') => {\r\n    this.deleteNewsFromState(id);\r\n    newsApi.deleteNewsById(id)\r\n  }\r\n\r\n  componentDidMount() {\r\n    // newsApi.getAllNews()\r\n    //   .then(data => this.setState({ news: data }))\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <>\r\n        <div className='adminNews'>\r\n          <h3>News</h3>\r\n          {this.state.news.length > 0 ? this.generateNewsList() : <Loader />}\r\n        </div>\r\n      </>\r\n    );\r\n  }\r\n}\r\n\r\nexport default NewsList;","import config from '../api/config';\r\n\r\nclass usersApi {\r\n  static getAllUsers() {\r\n    return fetch(`${config.adminCorsUrl}users`)\r\n      .then(res => {\r\n        if (res.ok) {\r\n          return res.json();\r\n        } else {\r\n          throw new Error('error ', res.status);\r\n        }\r\n      })\r\n      .catch(err => err);\r\n  }\r\n}\r\n\r\nexport default usersApi;\r\n","import React, { Component } from 'react';\r\nimport StoriesList from './StoriesList';\r\nimport NewsList from './NewsList';\r\nimport usersApi from '../../api/usersApi';\r\nimport './style/adminpanel.css';\r\n\r\nclass AdminPanel extends Component {\r\n  state = {\r\n    user: this.props.user,\r\n    allAuthors: []\r\n  };\r\n\r\n  componentDidMount() {\r\n    usersApi.getAllUsers().then(data => {\r\n      if (data) {\r\n        return this.setState({\r\n          allAuthors: data.map(({ login }) => ({ login }))\r\n        });\r\n      }\r\n    });\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <>\r\n        <div className=\"adminPanel\">\r\n          <h3 className=\"adminName\">{this.state.user}</h3>\r\n          <StoriesList\r\n            author={this.state.user}\r\n            allAuthors={this.state.allAuthors}\r\n          />\r\n          <NewsList />\r\n        </div>\r\n      </>\r\n    );\r\n  }\r\n}\r\n\r\nexport default AdminPanel;\r\n","import React, { Component } from 'react';\r\nimport { Route, Redirect } from 'react-router-dom';\r\nimport AdminPanel from './admin/AdminPanel';\r\n\r\nclass Adminpage extends Component {\r\n  state = {\r\n    user: 'Admin'\r\n  };\r\n\r\n  checkPermission = () => {\r\n    return localStorage.getItem('state');\r\n  };\r\n\r\n  render() {\r\n    return (\r\n      <>\r\n        <Route\r\n          render={() =>\r\n            this.checkPermission() ? (\r\n              <AdminPanel user={this.state.user} />\r\n            ) : (\r\n              <Redirect\r\n                to=\"/sensitive-cra/login/\"\r\n                permission={this.checkPermission}\r\n              />\r\n            )\r\n          }\r\n        />\r\n      </>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Adminpage;\r\n","import React, { Component } from 'react';\r\nimport Loader from '../components/Loader';\r\nimport config from '../api/config';\r\nimport '../style/forms.css';\r\n\r\nclass Loginpage extends Component {\r\n  state = {\r\n    login: '',\r\n    pass: '',\r\n    errors: {\r\n      login: false,\r\n      pass: false\r\n    }\r\n  };\r\n\r\n  messages = {\r\n    login_incorrect:\r\n      'Nazwa musi być dłuższa niż 4 znaki i nie może zawierać spacji',\r\n    email_incorrect: 'Brak @ w emailu',\r\n    password_incorrect: 'Hasło musi mieć od 8 do 20 znaków'\r\n  };\r\n\r\n  handleInputChange = e => {\r\n    const name = e.target.name;\r\n    const value = e.target.value;\r\n    this.setState({\r\n      [name]: value\r\n    });\r\n  };\r\n\r\n  handleSubmit = e => {\r\n    e.preventDefault();\r\n    const validation = this.formValidation();\r\n    if (validation.correct) {\r\n      fetch(`${config.baseCorsUrl}login/${this.state.login}.${this.state.pass}`)\r\n        .then(res => {\r\n          if (res.ok) {\r\n            return res.json();\r\n          } else {\r\n            throw new Error('error ', res.status);\r\n          }\r\n        })\r\n        .then(([data]) => {\r\n          if (data) {\r\n            this.setState({\r\n              message: 'Logowanie poprawne',\r\n              loading: false,\r\n              alert: false\r\n            });\r\n            localStorage.setItem('state', 'login');\r\n            this.props.history.push({\r\n              pathname: '/sensitive-cra/admin',\r\n              user: this.state.login\r\n            });\r\n          } else {\r\n            this.setState({\r\n              message: 'Błędny login lub hasło',\r\n              loading: false,\r\n              alert: true\r\n            });\r\n          }\r\n        })\r\n        .catch(err => console.log(err));\r\n\r\n      this.setState({\r\n        loading: true,\r\n\r\n        errors: {\r\n          login: false,\r\n          pass: false\r\n        }\r\n      });\r\n    } else {\r\n      this.setState({\r\n        errors: {\r\n          login: !validation.login,\r\n          pass: !validation.password\r\n        }\r\n      });\r\n    }\r\n  };\r\n\r\n  formValidation = () => {\r\n    let login = false;\r\n    let password = false;\r\n    let correct = false;\r\n\r\n    if (this.state.login.length >= 4 && this.state.login.indexOf(' ') === -1) {\r\n      login = true;\r\n    }\r\n    //  if (this.state.email.indexOf('@') !== -1) {\r\n    //       email = true\r\n    //     }\r\n    if (this.state.pass.length >= 8 && this.state.pass.length <= 20) {\r\n      password = true;\r\n    }\r\n\r\n    if (login && password) {\r\n      correct = true;\r\n    }\r\n\r\n    return {\r\n      correct,\r\n      login,\r\n      password\r\n    };\r\n  };\r\n\r\n  render() {\r\n    return (\r\n      <>\r\n        <form className=\"form myForm\" onSubmit={this.handleSubmit} noValidate>\r\n          <h2>Panel logowania</h2>\r\n          <div className=\"form__field\">\r\n            <input\r\n              type=\"text\"\r\n              name=\"login\"\r\n              id=\"login\"\r\n              className={\r\n                this.state.errors.login\r\n                  ? 'form__input invalidate'\r\n                  : this.state.login.length > 0\r\n                  ? 'form__input filled'\r\n                  : 'form__input'\r\n              }\r\n              value={this.state.login}\r\n              onChange={this.handleInputChange}\r\n            />\r\n            <label htmlFor=\"login\" className=\"form__label\">\r\n              Login\r\n            </label>\r\n            {this.state.errors.login && (\r\n              <span className=\"form__alert\">\r\n                {this.messages.login_incorrect}\r\n              </span>\r\n            )}\r\n          </div>\r\n\r\n          <div className=\"form__field\">\r\n            <input\r\n              type=\"password\"\r\n              name=\"pass\"\r\n              id=\"pass\"\r\n              className={\r\n                this.state.errors.pass\r\n                  ? 'form__input invalidate'\r\n                  : this.state.pass.length > 0\r\n                  ? 'form__input filled'\r\n                  : 'form__input'\r\n              }\r\n              value={this.state.pass}\r\n              onChange={this.handleInputChange}\r\n            />\r\n            <label htmlFor=\"pass\" className=\"form__label\">\r\n              Hasło\r\n            </label>\r\n            {this.state.errors.pass && (\r\n              <span className=\"form__alert\">\r\n                {this.messages.password_incorrect}\r\n              </span>\r\n            )}\r\n          </div>\r\n\r\n          <button className=\"btn form__button\">Zaloguj</button>\r\n        </form>\r\n        <aside className=\"otherInformation\">\r\n          {this.state.loading && <Loader />}\r\n          {this.state.message && (\r\n            <h3\r\n              className={\r\n                this.state.alert ? 'form__alert' : 'form__confirmation'\r\n              }\r\n            >\r\n              {this.state.message}\r\n            </h3>\r\n          )}\r\n        </aside>\r\n      </>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Loginpage;\r\n","import React, { Component } from 'react';\r\nimport { Route, Redirect } from 'react-router-dom';\r\nimport Loader from '../components/Loader';\r\nimport '../style/forms.css';\r\n\r\nclass Logoutpage extends Component {\r\n\r\n  state = {\r\n    redirect: false,\r\n  }\r\n\r\n  componentDidMount() {\r\n    localStorage.removeItem('state', 'login');\r\n    setTimeout(() => this.setState({ redirect: true }), 500)\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <>\r\n        <Route render={() => (\r\n          !this.state.redirect ? (\r\n            <div>\r\n              <h3>Wylogowano</h3>\r\n              <Loader />\r\n            </div>\r\n          ) : (<Redirect to=\"/sensitive-cra/\" />)\r\n        )} />\r\n      </>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Logoutpage;","import React from 'react';\r\n\r\nconst Errorpage = () => {\r\n  return (\r\n    <div>\r\n      <h1>Ooops! Some Error Here</h1>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Errorpage;","import React from 'react';\r\nimport { Route, Switch } from 'react-router-dom';\r\nimport Homepage from '../pages/Homepage'\r\nimport Storypage from '../pages/Storypage'\r\nimport Adminpage from '../pages/Adminpage'\r\nimport Loginpage from '../pages/Loginpage';\r\nimport Logoutpage from '../pages/Logoutpage';\r\nimport Errorpage from '../pages/Errorpage';\r\n\r\nconst Page = () => {\r\n\r\n  return (\r\n    <>\r\n      <Switch>\r\n        <Route path=\"/sensitive-cra/\" exact component={Homepage} />\r\n        <Route path=\"/sensitive-cra/story/:id\" component={Storypage} />\r\n        <Route path=\"/sensitive-cra/admin\" component={Adminpage} />\r\n        <Route path=\"/sensitive-cra/login\" component={Loginpage} />\r\n        <Route path=\"/sensitive-cra/logout\" component={Logoutpage} />\r\n        <Route component={Errorpage} />\r\n      </Switch>\r\n    </>\r\n  );\r\n}\r\n\r\nexport default Page;","import React from 'react';\r\nimport '../style/footer.css'\r\n\r\nconst Footer = () => {\r\n  return (\r\n    <>\r\n      <p>Sensitive</p>\r\n\r\n    </>\r\n  );\r\n}\r\n\r\nexport default Footer;","import React from 'react';\r\nimport '../style/kitty.css';\r\n\r\nconst Kitty = () => {\r\n  return (\r\n    <>\r\n      <div className=\"kittyContainer\">\r\n        <div className=\"kitty\">\r\n          <div className=\"body\"></div>\r\n          <div className=\"head\">\r\n            <div className=\"ears\">\r\n              <div className=\"ear-left\"></div>\r\n              <div className=\"ear-right\"></div>\r\n            </div>\r\n            <div className=\"face\">\r\n              <div className=\"eye-left\"></div>\r\n              <div className=\"eye-right\"></div>\r\n              <div className=\"nose\"></div>\r\n            </div>\r\n          </div>\r\n          <div className=\"tail\"></div>\r\n        </div>\r\n      </div>\r\n    </>\r\n  );\r\n}\r\n\r\nexport default Kitty;","import React, { Component } from 'react';\nimport { BrowserRouter as Router } from 'react-router-dom';\nimport { library } from '@fortawesome/fontawesome-svg-core';\n// import { fab } from '@fortawesome/free-brands-svg-icons';\nimport { faChevronLeft, faChevronRight, faHome, faUser, faPowerOff, faSun, faMoon, faEye, faEyeSlash, faTrash, faEdit, faPlus } from '@fortawesome/free-solid-svg-icons';\nimport Header from './Header';\nimport Navigation from './Navigation';\nimport Page from './Page';\nimport Footer from './Footer';\nimport Kitty from './Kitty';\nimport '../style/app.css';\n\nlibrary.add(faChevronLeft, faChevronRight, faHome, faUser, faPowerOff, faSun, faMoon, faEye, faEyeSlash, faTrash, faEdit, faPlus);\n\nclass App extends Component {\n  state = {\n    lightMode: false\n  }\n\n  handleColorMode = () => {\n    this.setState((prevState) => ({ lightMode: !prevState.lightMode }))\n  }\n\n  render() {\n\n    return (\n      <Router>\n        <div className={this.state.lightMode ?\n          'appContainer light-mode' :\n          'appContainer'}>\n          <nav className='navigation'>\n            {<Navigation\n              changeColor={this.handleColorMode}\n              lightMode={this.state.lightMode} />}\n          </nav>\n          <header className=\"banner\">\n            {<Header />}\n          </header>\n          <main className=\"mainContainer\">\n            {<Page />}\n          </main>\n          <footer className=\"footer\">\n            {<Footer />}\n          </footer>\n          <Kitty />\n        </div>\n      </Router>\n    );\n  }\n}\n\nexport default App;","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' }\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './layout/App';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(<App />, document.getElementById('root'));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}