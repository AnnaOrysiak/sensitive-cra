(this["webpackJsonpsensitive-cra"]=this["webpackJsonpsensitive-cra"]||[]).push([[0],[,,,,,,,,,,,function(e,t,n){e.exports=n(34)},,,,,function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},,,,,,,,,,,,function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),o=n(9),c=n.n(o),s=(n(16),n(1)),l=n(2),i=n(4),u=n(3),m=n(5),h={baseUrl:"https://sensitive-express.herokuapp.com/api/",baseCorsUrl:"https://cors-anywhere.herokuapp.com/https://sensitive-express.herokuapp.com/api/"},p=(n(17),function(){return r.a.createElement("header",{className:"banner"})}),f=function(e){var t=e.storyId,n=e.chapterTitle,a=e.storyTitle,o=e.getStoryHandler,c=e.navigationHandler;return r.a.createElement("li",null,r.a.createElement("button",{className:"menu__item",value:t,onClick:function(e){o(e),setTimeout(c,500)}},n," (",a,")"))},E=(n(18),function(){return r.a.createElement("div",{className:"loading-circle"})}),d=(n(19),function(e){function t(){var e,n;Object(s.a)(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(n=Object(i.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={active:!1},n.navigationHandler=function(){n.setState((function(e){return{active:!e.active}}))},n}return Object(m.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this,t=this.props,n=t.stories,a=t.getStoryHandler,o=t.getNewsHandler,c=[];return n.length>0&&(c=n.map((function(t){return r.a.createElement(f,{key:t._id,storyTitle:t.title,chapterTitle:t.chapter,storyId:t._id,getStoryHandler:a,navigationHandler:e.navigationHandler})}))),r.a.createElement("nav",{className:this.state.active?"navigation active":"navigation"},r.a.createElement("div",{className:"btn menu-button",onClick:this.navigationHandler},r.a.createElement("span",{className:"menu-button__bar"}),r.a.createElement("span",{className:"menu-button__bar"}),r.a.createElement("span",{className:"menu-button__bar"})),r.a.createElement("div",{className:"menu"},r.a.createElement("section",{className:"icons"},r.a.createElement("button",{onClick:function(){o(),e.navigationHandler()}},r.a.createElement("span",{className:"icon"},"start")),r.a.createElement("button",null,r.a.createElement("span",{className:"icon"},"login"))),r.a.createElement("h3",{className:"menu__header"},"Opowiadania"),r.a.createElement("ul",{className:"menu__list"},n.length?c:r.a.createElement(E,null))))}}]),t}(a.Component)),v=function(e){var t=e.title,n=e.description,a=e.date,o=new Date(a);return r.a.createElement("article",{className:"articleNews"},r.a.createElement("h3",null,t),r.a.createElement("span",null,o.toLocaleDateString()),r.a.createElement("p",{className:"articleNews__description"},n))},g=n(10),y=n.n(g),b=(n(31),function(e){console.log(e);var t=e.story,n=t.type,a=t.title,o=t.chapter,c=t.content,s=t.authors;return r.a.createElement("article",{className:"story"},r.a.createElement("small",null,a," / ",o," "),r.a.createElement("h3",{className:"story__title"},o),r.a.createElement("div",{className:"story__content"},y()(c)),r.a.createElement("p",{className:"story__authors"},s),"story"===n?r.a.createElement("p",null,'"pagination"'):r.a.createElement("p",null,'"no-pagination"'))}),w=(n(32),function(e){var t=[],n=e.storyContent,a=e.content;return a&&(t=n?a.map((function(e){return r.a.createElement(b,{key:e._id,story:e})})):a.map((function(e){return r.a.createElement(v,{key:e._id,title:e.title,date:e.date,description:e.description})}))),r.a.createElement(r.a.Fragment,null,r.a.createElement("main",{className:"mainContainer"},a.length?t:r.a.createElement(E,null)))}),N=(n(33),function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement("footer",{className:"footer"},r.a.createElement("p",null,"Sensitive")))}),_=function(e){function t(){var e,n;Object(s.a)(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(n=Object(i.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={news:[],stories:[],story:[],storyContent:!1},n.getNewsHandler=function(){n.setState({storyContent:!1})},n.getStoryHandler=function(e){console.log(e.target.value);var t=e.target.value;fetch("".concat(h.baseCorsUrl,"story/").concat(t)).then((function(e){if(e.ok)return e.json();throw new Error("error ",e.status)})).then((function(e){return n.setState({story:[e],storyContent:!0})})).catch((function(e){return console.log(e)}))},n}return Object(m.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){var e=this;fetch("".concat(h.baseCorsUrl,"news")).then((function(e){if(e.ok)return e.json();throw new Error("error ",e.status)})).then((function(t){return e.setState({news:t})})).catch((function(e){return console.log(e)})),fetch("".concat(h.baseCorsUrl,"stories")).then((function(e){if(e.ok)return e.json();throw new Error("error ",e.status)})).then((function(t){return e.setState({stories:t})})).catch((function(e){return console.log(e)}))}},{key:"render",value:function(){var e=this.state,t=e.news,n=e.stories,a=e.story,o=e.storyContent;return r.a.createElement(r.a.Fragment,null,r.a.createElement(d,{stories:n,getStoryHandler:this.getStoryHandler,getNewsHandler:this.getNewsHandler}),r.a.createElement(p,null),r.a.createElement(w,{storyContent:o,content:o?a:t}),r.a.createElement(N,null))}}]),t}(a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(r.a.createElement(_,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}],[[11,1,2]]]);
//# sourceMappingURL=main.9cea4d6c.chunk.js.map