(this["webpackJsonpsensitive-cra"]=this["webpackJsonpsensitive-cra"]||[]).push([[0],{26:function(e,t,a){e.exports=a(55)},31:function(e,t,a){},32:function(e,t,a){},33:function(e,t,a){},34:function(e,t,a){},40:function(e,t,a){},52:function(e,t,a){},53:function(e,t,a){},54:function(e,t,a){},55:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),s=a(21),o=a.n(s),c=(a(31),a(3)),i=a(4),l=a(6),m=a(5),u=a(7),h=a(10),p=(a(32),function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"header"}))}),f=(a(33),function(){return r.a.createElement("div",{className:"loading-circle"})}),d={baseUrl:"https://sensitive-express.herokuapp.com/api/",baseCorsUrl:"https://cors-anywhere.herokuapp.com/https://sensitive-express.herokuapp.com/api/"},g=(a(34),function(e){function t(){var e,a;Object(c.a)(this,t);for(var n=arguments.length,s=new Array(n),o=0;o<n;o++)s[o]=arguments[o];return(a=Object(l.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(s)))).state={active:!1,stories:[]},a.navigationHandler=function(){a.setState((function(e){return{active:!e.active}}))},a.getStoriesList=function(){return a.state.stories.map((function(e){return r.a.createElement("li",{key:e._id},r.a.createElement(h.b,{to:"/story/".concat(e._id),id:e._id,onClick:a.navigationHandler},e.chapter_title," ",e.title," "))}))},a}return Object(u.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){var e=this;fetch("".concat(d.baseCorsUrl,"stories")).then((function(e){if(e.ok)return e.json();throw new Error("error ",e.status)})).then((function(t){return e.setState({stories:t})})).catch((function(e){return console.log(e)}))}},{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:this.state.active?"btn menu-button active":"btn menu-button",onClick:this.navigationHandler},r.a.createElement("span",{className:"menu-button__bar"}),r.a.createElement("span",{className:"menu-button__bar"}),r.a.createElement("span",{className:"menu-button__bar"})),r.a.createElement("div",{className:this.state.active?"menu active":"menu"},r.a.createElement("section",{className:"icons"},r.a.createElement(h.b,{to:"/",onClick:this.navigationHandler,exact:!0},r.a.createElement("span",{className:"icon"},"start")),r.a.createElement(h.b,{to:"/login",onClick:this.navigationHandler},r.a.createElement("span",{className:"icon"},"login"))),r.a.createElement("h3",{className:"menu__header"},"Opowiadania"),r.a.createElement("ul",{className:"menu__list"},this.state.stories.length?this.getStoriesList():r.a.createElement(f,null))))}}]),t}(n.Component)),E=a(11),v=function(e){var t=e.title,a=e.description,n=e.date,s=new Date(n);return r.a.createElement("article",{className:"articleNews"},r.a.createElement("h3",null,t),r.a.createElement("span",null,s.toLocaleDateString()),r.a.createElement("p",{className:"articleNews__description"},a))},b=(a(40),function(e){function t(){var e,a;Object(c.a)(this,t);for(var n=arguments.length,s=new Array(n),o=0;o<n;o++)s[o]=arguments[o];return(a=Object(l.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(s)))).state={news:[]},a.generateNews=function(){return a.state.news.map((function(e){return r.a.createElement(v,{key:e._id,title:e.title,date:e.date,description:e.description})}))},a}return Object(u.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){var e=this;fetch("".concat(d.baseCorsUrl,"news")).then((function(e){if(e.ok)return e.json();throw new Error("error ",e.status)})).then((function(t){return e.setState({news:t})})).catch((function(e){return console.log(e)}))}},{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,this.state.news.length?this.generateNews():r.a.createElement(f,null))}}]),t}(n.Component)),_=a(24),y=a.n(_),w=(a(52),function(e){var t=e.story,a=t.type,n=t.title,s=t.chapter_title,o=t.content,c=t.authors;return r.a.createElement("article",{className:"story"},r.a.createElement("small",null,"story"===a?n+" / "+s:"".concat(n," (").concat(a,")")),r.a.createElement("h3",{className:"story__title"},"story"===a?s:n),r.a.createElement("div",{className:"story__content"},y()(o)),r.a.createElement("p",{className:"story__authors"},c),"story"===a?r.a.createElement("p",null,'"pagination"'):r.a.createElement("p",null,'"no-pagination"'))}),N=function(e){function t(){var e,a;Object(c.a)(this,t);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(a=Object(l.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(r)))).state={story:[]},a.fetchNewStory=function(){var e=a.props.match.params.id;fetch("".concat(d.baseCorsUrl,"story/").concat(e)).then((function(e){if(e.ok)return e.json();throw new Error("error ",e.status)})).then((function(e){return a.setState({story:e})})).catch((function(e){return console.log(e)}))},a}return Object(u.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){this.fetchNewStory()}},{key:"componentDidUpdate",value:function(e,t){this.props.match.params.id!==e.match.params.id&&this.fetchNewStory()}},{key:"render",value:function(){var e=this.state.story;return r.a.createElement(r.a.Fragment,null,e._id?r.a.createElement(w,{story:e}):r.a.createElement(f,null))}}]),t}(n.Component),j=function(e){function t(){var e,a;Object(c.a)(this,t);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(a=Object(l.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(r)))).state={},a.checkPermission=function(){console.log("checking permission")},a}return Object(u.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement(r.a.Fragment,null,r.a.createElement(E.b,{render:function(){return r.a.createElement(E.a,{to:"/login/",permission:e.checkPermission})}}))}}]),t}(n.Component),O=a(25),k=(a(53),function(e){function t(){var e,a;Object(c.a)(this,t);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(a=Object(l.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(r)))).state={login:"",pass:"",errors:{login:!1,pass:!1}},a.messages={login_incorrect:"Nazwa musi by\u0107 d\u0142u\u017csza ni\u017c 10 znak\xf3w i nie mo\u017ce zawiera\u0107 spacji",email_incorrect:"Brak @ w emailu",password_incorrect:"Has\u0142o musi mie\u0107 od 8 do 20 znak\xf3w"},a.handleInputChange=function(e){var t=e.target.name,n=e.target.value;a.setState(Object(O.a)({},t,n))},a.handleSubmit=function(e){e.preventDefault();var t=a.formValidation();t.correct?a.setState({login:"",pass:"",message:"Formularz zosta\u0142 wys\u0142any",errors:{login:!1,pass:!1}}):a.setState({errors:{login:!t.login,pass:!t.password}})},a.formValidation=function(){var e=!1,t=!1,n=!1;return a.state.login.length>=10&&-1===a.state.login.indexOf(" ")&&(e=!0),a.state.pass.length>=8&&a.state.pass.length<=20&&(t=!0),e&&t&&(n=!0),{correct:n,login:e,password:t}},a}return Object(u.a)(t,e),Object(i.a)(t,[{key:"componentDidUpdate",value:function(e,t){var a=this;console.log(e,this.props),""!==this.state.message&&setTimeout((function(){return a.setState({message:""})}),3e3)}},{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement("form",{className:"form myForm",onSubmit:this.handleSubmit,noValidate:!0},r.a.createElement("h2",null,"Panel logowania"),r.a.createElement("div",{className:"form__field"},r.a.createElement("input",{type:"text",name:"login",id:"login",className:this.state.errors.login?"form__input invalidate":this.state.login.length>0?"form__input filled":"form__input",value:this.state.login,onChange:this.handleInputChange}),r.a.createElement("label",{htmlFor:"login",className:"form__label"},"Login"),this.state.errors.login&&r.a.createElement("span",{className:"form__alert"},this.messages.login_incorrect)),r.a.createElement("div",{className:"form__field"},r.a.createElement("input",{type:"password",name:"pass",id:"pass",className:this.state.errors.pass?"form__input invalidate":this.state.pass.length>0?"form__input filled":"form__input",value:this.state.pass,onChange:this.handleInputChange}),r.a.createElement("label",{htmlFor:"pass",className:"form__label"},"Has\u0142o"),this.state.errors.pass&&r.a.createElement("span",{className:"form__alert"},this.messages.password_incorrect)),r.a.createElement("button",{className:"btn form__button"},"Zaloguj")),this.state.message&&r.a.createElement("h3",{className:"form__confirmation"},this.state.message))}}]),t}(n.Component)),C=function(){return r.a.createElement("div",null,r.a.createElement("h1",null,"Ooops! Some Error Here"))},S=window.location.pathname,F=function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(E.d,null,r.a.createElement(E.b,{path:"".concat(S),exact:!0,component:b}),r.a.createElement(E.b,{path:"".concat(S,"story/:id"),component:N}),r.a.createElement(E.b,{path:"".concat(S,"admin"),component:j}),r.a.createElement(E.b,{path:"".concat(S,"login"),component:k}),r.a.createElement(E.b,{component:C})))},D=(a(54),function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement("p",null,"Sensitive"))}),H=function(e){function t(){return Object(c.a)(this,t),Object(l.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return r.a.createElement(h.a,null,r.a.createElement("nav",{className:"navigation"},r.a.createElement(g,null)),r.a.createElement("header",{className:"banner"},r.a.createElement(p,null)),r.a.createElement("main",{className:"mainContainer"},r.a.createElement(F,null)),r.a.createElement("footer",{className:"footer"},r.a.createElement(D,null)))}}]),t}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(r.a.createElement(H,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[26,1,2]]]);
//# sourceMappingURL=main.52946295.chunk.js.map