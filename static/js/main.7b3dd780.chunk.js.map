{"version":3,"sources":["assets/bensound-cute.mp3","components/Logo.js","layout/Header.js","components/Loader.js","components/StoryList.js","api/config.js","api/storyApi.js","layout/Navigation.js","components/News.js","api/newsApi.js","pages/Homepage.js","components/Story.js","pages/Storypage.js","pages/admin/components/EditButton.js","pages/admin/components/StoryElement.js","pages/admin/components/Editor.js","pages/admin/components/TypeInputs.js","pages/admin/components/StoryMainProperties.js","pages/admin/components/AuthorsInputs.js","pages/admin/EditStory.js","pages/admin/StoriesList.js","pages/admin/components/NewsElement.js","pages/admin/NewsList.js","api/usersApi.js","pages/admin/AdminPanel.js","pages/Adminpage.js","pages/Loginpage.js","pages/Logoutpage.js","pages/Errorpage.js","layout/Page.js","layout/Footer.js","layout/Kitty.js","layout/App.js","serviceWorker.js","index.js"],"names":["module","exports","Logo","size","className","Header","Loader","StoryList","props","stories","navigationHandler","storiesList","shortStories","filterTitle","title","chapters","filter","story","push","key","_id","to","id","onClick","chapter_title","longStories","i","length","getStoriesTitlesList","forEach","item","config","baseUrl","baseCorsUrl","adminUrl","adminCorsUrl","desktopSize","StoryApi","fetch","then","res","ok","json","Error","status","catch","err","author","data","console","log","method","body","JSON","stringify","headers","Navigation","state","active","setState","prevState","checkPermission","localStorage","getItem","storyApi","getAllStories","this","exact","icon","window","innerWidth","changeColor","lightMode","Component","News","description","date","utfDate","Date","toLocaleDateString","urlAuth","NewsApi","Homepage","news","generateNews","map","newsApi","getAllNews","Story","type","content","storyAuthors","authors","index","purifiedContent","DOMPurify","sanitize","ALLOWED_TAGS","ALLOWED_ATTR","parse","Storypage","fetchNewStory","match","params","getStoryById","prevProps","EditButton","intervalId","pageYOffset","clearInterval","scroll","setInterval","scrollStep","bind","handleEditStory","scrollToTop","StoryElement","handleDeleteStory","handleUpdateStory","visible","value","TextEditor","editorState","EditorState","createEmpty","onEditorStateChange","file","Promise","resolve","reject","reader","FileReader","onload","e","link","target","result","onerror","readAsDataURL","blocksFromHTML","convertFromHTML","ContentState","createFromBlockArray","contentBlocks","entityMap","createWithContent","toolbarClassName","wrapperClassName","editorClassName","toolbar","options","textAlign","inDropdown","blockType","inline","list","placeholder","readOnly","draftToHtml","convertToRaw","getCurrentContent","onMouseLeave","handleChange","name","TypeInputs","type_message","errors","handleTypeChange","htmlFor","checked","onChange","disabled","StoryMainProperties","title_message","chapter_title_message","handlerOnChange","minLength","required","AuthorsInputs","allAuthors","authors_message","checkChange","login","includes","defaultChecked","EditStory","messages","content_message","formValidate","Object","entries","handleSubmit","preventDefault","updateStoryById","alert","respond","createNewStory","convertToObject","array","reduce","keys","editContent","closeEditStory","StoriesList","editmode","edit_content","storyModel","generateStoriesList","getStoriesByAuthor","deleteStoryFromState","updateStoryFromState","deleteStoryById","NewsElement","handleDeleteNews","NewsList","generateNewsList","deleteNewsFromState","deleteNewsById","usersApi","AdminPanel","user","getAllUsers","Adminpage","render","Loginpage","pass","login_incorrect","email_incorrect","password_incorrect","handleInputChange","validation","formValidation","correct","message","loading","setItem","history","pathname","password","indexOf","onSubmit","noValidate","Logoutpage","redirect","removeItem","setTimeout","Errorpage","Page","path","component","Footer","Kitty","firstTime","play","volume","audio","Audio","music","audiosource","href","playHandler","pause","volumeHandler","stateVolume","deltaY","onWheel","library","add","faChevronLeft","faChevronRight","faHome","faUser","faPowerOff","faSun","faMoon","faEye","faEyeSlash","faTrash","faEdit","faPlus","faTimes","App","handleColorMode","basename","Boolean","location","hostname","ReactDOM","document","getElementById","navigator","serviceWorker","ready","registration","unregister"],"mappings":"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","file":"static/js/main.7b3dd780.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/bensound-cute.0466433c.mp3\";","import React from 'react';\r\nimport '../style/logo.css';\r\n\r\nconst Logo = ({ size = '' }) => {\r\n  return (\r\n    <>\r\n      <div className={`logoContainer ${size}`}>\r\n        <div className=\"circle\">\r\n          <div className=\"feather\"></div>\r\n          <div className=\"scape\"></div>\r\n        </div>\r\n      </div>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default Logo;\r\n","import React from 'react';\r\nimport Logo from '../components/Logo';\r\nimport '../style/header.css';\r\n\r\nconst Header = () => {\r\n  return (\r\n    <>\r\n      <div className=\"header\">\r\n        <Logo size=\"medium\" />\r\n        <h1 className=\"header__title\">Sensitive</h1>\r\n      </div>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default Header;\r\n","import React from 'react';\r\nimport '../style/loader.css';\r\n\r\nconst Loader = () => {\r\n  return (\r\n    <div className=\"loading-circle\">\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Loader;","import React from 'react';\r\nimport { NavLink } from 'react-router-dom';\r\n\r\nconst StoryList = props => {\r\n    const { stories, navigationHandler } = props;\r\n    const storiesList = [];\r\n    const shortStories = [];\r\n\r\n    function getStoriesTitlesList() {\r\n        const longStories = [];\r\n        for (let i = 0; i < stories.length; i++) {\r\n            if (i === 0 && stories[i].chapter_title) {\r\n                longStories.push(stories[i].title);\r\n            } else if (\r\n                stories[i].title !== stories[i - 1].title &&\r\n                stories[i].chapter_title\r\n            )\r\n                longStories.push(stories[i].title);\r\n            else if (stories[i].title !== stories[i - 1].title) {\r\n                shortStories.push(stories[i].title);\r\n            }\r\n        }\r\n        return longStories;\r\n    }\r\n\r\n    function filterTitle(title, storiesList) {\r\n        const chapters = [];\r\n        storiesList.filter(story => {\r\n            if (story.title === title) {\r\n                chapters.push(\r\n                    <li key={story._id}>\r\n                        <NavLink\r\n                            to={`/sensitive-cra/story/${story._id}`}\r\n                            id={story._id}\r\n                            onClick={navigationHandler}\r\n                            className={\r\n                                story.chapter_title\r\n                                    ? 'storyBox__item'\r\n                                    : 'storyBox__item storyBox__item--short storyBox__title'\r\n                            }\r\n                        >\r\n                            {story.chapter_title ? story.chapter_title : story.title}\r\n                        </NavLink>\r\n                    </li>\r\n                );\r\n            }\r\n            return story.title === title;\r\n        });\r\n        return chapters;\r\n    }\r\n\r\n    getStoriesTitlesList().forEach((item, id) => {\r\n        storiesList.push(\r\n            <li key={item + id} className=\"storyBox storyBox--long\">\r\n                <h3 className=\"storyBox__title\">{item}</h3>\r\n                <ul className=\"storyBox__list\">{filterTitle(item, stories)}</ul>\r\n            </li>\r\n        );\r\n    });\r\n\r\n    shortStories.forEach((item, id) => {\r\n        storiesList.push(\r\n            <li className=\"storyBox\" key={item + id}>\r\n                <h3>{filterTitle(item, stories)}</h3>\r\n            </li>\r\n        );\r\n    });\r\n\r\n    return (\r\n        <>\r\n            <ul className=\"storiesBox scb\">{storiesList}</ul>\r\n        </>\r\n    );\r\n};\r\n\r\nexport default StoryList;\r\n","const config = {\r\n  baseUrl: 'https://sensitive-express.herokuapp.com/api/',\r\n  baseCorsUrl:\r\n    'https://cors-anywhere.herokuapp.com/https://sensitive-express.herokuapp.com/api/',\r\n  adminUrl: 'https://sensitive-express.herokuapp.com/api/admin/',\r\n  adminCorsUrl:\r\n    'https://cors-anywhere.herokuapp.com/https://sensitive-express.herokuapp.com/api/admin/',\r\n  desktopSize: 1024\r\n};\r\n\r\nexport default config;\r\n","import config from '../api/config';\r\n\r\n// url changed after login\r\n// const urlAuth = localStorage.getItem('state') ? config.adminCorsUrl : config.baseCorsUrl;\r\n\r\nclass StoryApi {\r\n  static getAllStories() {\r\n    return fetch(`${config.baseCorsUrl}stories`)\r\n      .then(res => {\r\n        if (res.ok) {\r\n          return res.json();\r\n        } else {\r\n          throw new Error('error ', res.status);\r\n        }\r\n      })\r\n      .catch(err => err);\r\n  }\r\n\r\n  static getStoryById(id = '') {\r\n    return fetch(`${config.baseCorsUrl}story/${id}`)\r\n      .then(res => {\r\n        if (res.ok) {\r\n          return res.json();\r\n        } else {\r\n          throw new Error('error ', res.status);\r\n        }\r\n      })\r\n      .catch(err => err);\r\n  }\r\n\r\n  static getStoriesByAuthor(author = '') {\r\n    return fetch(`${config.adminCorsUrl}stories/${author}`)\r\n      .then(res => {\r\n        if (res.ok) {\r\n          return res.json();\r\n        } else {\r\n          throw new Error('error ', res.status);\r\n        }\r\n      })\r\n      .catch(err => err);\r\n  }\r\n\r\n  // static getStoryContentById(id = '') {\r\n  //   return fetch(`${config.adminCorsUrl}story/${id}`)\r\n  //     .then(res => {\r\n  //       if (res.ok) {\r\n  //         return res.json();\r\n  //       } else {\r\n  //         throw new Error('error ', res.status);\r\n  //       }\r\n  //     })\r\n  //     .catch(err => err);\r\n  // }\r\n\r\n  static createNewStory(data) {\r\n    console.log(data);\r\n    return fetch(`${config.adminCorsUrl}story/add`, {\r\n      method: 'POST',\r\n      body: JSON.stringify(data),\r\n      headers: {\r\n        'Content-Type': 'application/json'\r\n      }\r\n    })\r\n      .then(res => {\r\n        if (res.ok) {\r\n          return res.json();\r\n        } else {\r\n          throw new Error('error ', res.status);\r\n        }\r\n      })\r\n      .catch(err => err);\r\n  }\r\n\r\n  static deleteStoryById(id) {\r\n    return fetch(`${config.adminCorsUrl}story/delete/${id}`)\r\n      .then(res => {\r\n        if (res.ok) {\r\n          return res.json();\r\n        } else {\r\n          throw new Error('error ', res.status);\r\n        }\r\n      })\r\n      .catch(err => err);\r\n  }\r\n\r\n  static updateStoryById(id, data) {\r\n    // console.log(id, data);\r\n    return fetch(`${config.adminCorsUrl}story/update/${id}`, {\r\n      method: 'PATCH',\r\n      body: JSON.stringify(data),\r\n      headers: {\r\n        'Content-Type': 'application/json'\r\n      }\r\n    })\r\n      .then(res => {\r\n        if (res.ok) {\r\n          return res.json();\r\n        } else {\r\n          throw new Error('error ', res.status);\r\n        }\r\n      })\r\n      .catch(err => err);\r\n  }\r\n}\r\n\r\nexport default StoryApi;\r\n","import React, { Component } from 'react';\r\nimport { NavLink } from 'react-router-dom';\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\r\nimport Loader from '../components/Loader';\r\nimport StoryList from '../components/StoryList';\r\nimport config from '../api/config';\r\nimport storyApi from '../api/storyApi';\r\nimport '../style/navigation.css';\r\n\r\nclass Navigation extends Component {\r\n  state = {\r\n    active: false,\r\n    stories: []\r\n  };\r\n\r\n  navigationHandler = () => {\r\n    this.setState(prevState => ({ active: !prevState.active }));\r\n  };\r\n\r\n  checkPermission = () => {\r\n    return localStorage.getItem('state');\r\n  };\r\n\r\n  componentDidMount() {\r\n    storyApi.getAllStories().then(data => this.setState({ stories: data }));\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <>\r\n        <div className={this.state.active ? 'menu active' : 'menu'}>\r\n          <section className=\"icons\">\r\n            <NavLink\r\n              to=\"/sensitive-cra/\"\r\n              onClick={this.navigationHandler}\r\n              className=\"btn\"\r\n              exact\r\n            >\r\n              <FontAwesomeIcon icon=\"home\" size=\"2x\" />\r\n              <span className=\"description\">Start</span>\r\n            </NavLink>\r\n\r\n            <NavLink\r\n              to=\"/sensitive-cra/admin\"\r\n              onClick={this.navigationHandler}\r\n              className=\"btn\"\r\n            >\r\n              <FontAwesomeIcon icon=\"user\" size=\"2x\" />\r\n              <span className=\"description\">Panel użytkownika</span>\r\n            </NavLink>\r\n\r\n            {window.innerWidth > config.desktopSize && this.checkPermission() && (\r\n              <NavLink\r\n                to=\"/sensitive-cra/logout\"\r\n                onClick={this.navigationHandler}\r\n                className=\"btn\"\r\n              >\r\n                <FontAwesomeIcon icon=\"power-off\" size=\"2x\" />\r\n                <span className=\"description\">Wyloguj</span>\r\n              </NavLink>\r\n            )}\r\n\r\n            <button className=\"btn\" onClick={this.props.changeColor}>\r\n              <FontAwesomeIcon\r\n                icon={this.props.lightMode ? 'moon' : 'sun'}\r\n                size=\"2x\"\r\n              />\r\n              <span className=\"description\">\r\n                Motyw {this.props.lightMode ? 'ciemny' : 'jasny'}\r\n              </span>\r\n            </button>\r\n          </section>\r\n\r\n          <h3 className=\"menu__header\">Opowiadania</h3>\r\n          {this.state.stories.length ? (\r\n            <StoryList\r\n              stories={this.state.stories}\r\n              navigationHandler={this.navigationHandler}\r\n            />\r\n          ) : (\r\n            <Loader />\r\n          )}\r\n        </div>\r\n\r\n        <div\r\n          className={\r\n            this.state.active ? 'btn menu-button active' : 'btn menu-button'\r\n          }\r\n          onClick={this.navigationHandler}\r\n        >\r\n          <FontAwesomeIcon icon=\"chevron-right\" size=\"2x\" />\r\n        </div>\r\n      </>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Navigation;\r\n","import React from 'react';\r\n\r\nconst News = (props) => {\r\n\r\n  const { title, description, date } = props;\r\n  const utfDate = new Date(date);\r\n\r\n  return (\r\n    <article className=\"articleNews\">\r\n      <h3>{title}</h3>\r\n      <span>{utfDate.toLocaleDateString()}</span>\r\n      <p className=\"articleNews__description\">{description}</p>\r\n    </article>\r\n\r\n  );\r\n}\r\n\r\nexport default News;","import config from '../api/config';\r\n\r\n// url changed after login\r\nconst urlAuth = localStorage.getItem('state') ? config.adminCorsUrl : config.baseCorsUrl;\r\n\r\nclass NewsApi {\r\n\r\n  static getAllNews() {\r\n    return fetch(`${urlAuth}news`)\r\n      .then(res => {\r\n        if (res.ok) {\r\n          return res.json()\r\n        } else {\r\n          throw new Error(\"error \", res.status)\r\n        }\r\n      })\r\n      .catch(err => err)\r\n  }\r\n\r\n  static deleteNewsById(id) {\r\n    return fetch(`${urlAuth}news/delete/${id}`)\r\n      .then(res => {\r\n        if (res.ok) {\r\n          return res.json()\r\n        } else {\r\n          throw new Error(\"error \", res.status)\r\n        }\r\n      })\r\n      .catch(err => err)\r\n  }\r\n\r\n}\r\n\r\nexport default NewsApi;","import React, { Component } from 'react';\r\nimport News from '../components/News';\r\nimport Loader from '../components/Loader';\r\nimport newsApi from '../api/newsApi';\r\nimport '../style/main.css';\r\n\r\nclass Homepage extends Component {\r\n  state = { news: [] }\r\n\r\n  generateNews = () => {\r\n    const newsTemplates = this.state.news.map(news =>\r\n      <News key={news._id} title={news.title} date={news.date} description={news.description} />\r\n    )\r\n    return newsTemplates;\r\n  }\r\n\r\n  componentDidMount() {\r\n    newsApi.getAllNews()\r\n      .then(data => this.setState({ news: data }))\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <>\r\n        {this.state.news.length ? this.generateNews() : <Loader />}\r\n      </>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Homepage;","import React from 'react';\r\nimport parse from 'html-react-parser';\r\nimport DOMPurify from 'dompurify';\r\nimport '../style/story.css';\r\n\r\nconst Story = props => {\r\n  const { type, title, chapter_title, content, authors } = props.story;\r\n\r\n  const storyAuthors = authors.map((author, index) => (\r\n    <span className=\"story__author\" key={index}>\r\n      {author}\r\n    </span>\r\n  ));\r\n\r\n  const purifiedContent = DOMPurify.sanitize(content, {\r\n    ALLOWED_TAGS: [\r\n      'p',\r\n      // 'b',\r\n      'strong',\r\n      'em',\r\n      'u',\r\n      'del',\r\n      'code',\r\n      'ul',\r\n      'ol',\r\n      'li',\r\n      'h5',\r\n      'h6'\r\n    ],\r\n    ALLOWED_ATTR: ['style']\r\n  });\r\n  console.log(DOMPurify);\r\n\r\n  return (\r\n    <article className=\"story\">\r\n      <small>\r\n        {type === 'story'\r\n          ? title + ' / ' + chapter_title\r\n          : `${title} (${type})`}\r\n      </small>\r\n      <h3 className=\"story__title\">\r\n        {type === 'story' ? chapter_title : title}\r\n      </h3>\r\n      <div className=\"story__content\">{parse(purifiedContent)}</div>\r\n      <p className=\"story__authors\">{storyAuthors}</p>\r\n    </article>\r\n  );\r\n};\r\n\r\nexport default Story;\r\n","import React, { Component } from 'react';\r\nimport Story from '../components/Story';\r\nimport Loader from '../components/Loader';\r\nimport storyApi from '../api/storyApi';\r\n\r\nclass Storypage extends Component {\r\n  state = {\r\n    story: [],\r\n  }\r\n\r\n  fetchNewStory = () => {\r\n    const id = this.props.match.params.id;\r\n    storyApi.getStoryById(id)\r\n      .then(data => this.setState({ story: data }))\r\n  }\r\n\r\n  componentDidMount() {\r\n    this.fetchNewStory();\r\n  }\r\n\r\n  componentDidUpdate(prevProps, prevState) {\r\n    if (this.props.match.params.id !== prevProps.match.params.id) {\r\n      this.fetchNewStory();\r\n    }\r\n  }\r\n\r\n  render() {\r\n    const { story } = this.state;\r\n\r\n    return (\r\n      <>\r\n        {story._id ? <Story story={story} /> : <Loader />}\r\n      </>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Storypage;\r\n","import React, { Component } from 'react';\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\r\n\r\nclass EditButton extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.state = {\r\n      intervalId: 0\r\n    };\r\n  }\r\n\r\n  scrollStep() {\r\n    if (window.pageYOffset === 0) {\r\n      clearInterval(this.state.intervalId);\r\n    }\r\n    window.scroll(0, window.pageYOffset - 50);\r\n  }\r\n\r\n  scrollToTop() {\r\n    let intervalId = setInterval(this.scrollStep.bind(this));\r\n    this.setState({ intervalId: intervalId });\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <button\r\n        className=\"listBtn\"\r\n        onClick={() => {\r\n          this.props.handleEditStory();\r\n          this.scrollToTop();\r\n        }}\r\n      >\r\n        <FontAwesomeIcon icon={this.props.id !== 'new' ? 'edit' : 'plus'} />\r\n      </button>\r\n    );\r\n  }\r\n}\r\n\r\nexport default EditButton;\r\n","import React from 'react';\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\r\nimport EditButton from './EditButton';\r\n\r\nconst StoryElement = ({\r\n  story,\r\n  handleDeleteStory,\r\n  handleUpdateStory,\r\n  handleEditStory\r\n}) => {\r\n  const { _id, title, chapter_title, visible } = story;\r\n\r\n  return (\r\n    <div className=\"storyListItem\">\r\n      <button\r\n        className=\"listBtn\"\r\n        value={visible}\r\n        onClick={() => handleUpdateStory(_id, { visible: !visible })}\r\n      >\r\n        <FontAwesomeIcon icon={visible ? 'eye' : 'eye-slash'} />\r\n      </button>\r\n      <p className=\"storyListItem__title\">\r\n        {chapter_title ? chapter_title : title}\r\n      </p>\r\n      <p className=\"storyListItem__title small\">\r\n        {chapter_title ? `(${title})` : '(one-shot)'}\r\n      </p>\r\n      {/* <button className=\"listBtn\" onClick={() => {handleEditStory(story);\r\n      scrollToTop()}}>\r\n        <FontAwesomeIcon icon=\"edit\" />\r\n      </button> */}\r\n      <EditButton id={_id} handleEditStory={() => handleEditStory(story)} />\r\n      <button\r\n        className=\"listBtn\"\r\n        value={_id}\r\n        onClick={() => handleDeleteStory(_id)}\r\n      >\r\n        <FontAwesomeIcon icon=\"trash\" />\r\n      </button>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default StoryElement;\r\n","import React, { Component } from 'react';\r\nimport {\r\n  EditorState,\r\n  ContentState,\r\n  convertToRaw,\r\n  convertFromHTML\r\n} from 'draft-js';\r\nimport draftToHtml from 'draftjs-to-html';\r\nimport { Editor } from 'react-draft-wysiwyg';\r\nimport '../../../../node_modules/react-draft-wysiwyg/dist/react-draft-wysiwyg.css';\r\nimport '../style/editor.css';\r\n\r\nclass TextEditor extends Component {\r\n  state = {\r\n    editorState: EditorState.createEmpty()\r\n  };\r\n\r\n  onEditorStateChange = editorState => {\r\n    this.setState({\r\n      editorState\r\n    });\r\n  };\r\n\r\n  uploadImageCallBack(file) {\r\n    return new Promise((resolve, reject) => {\r\n      const reader = new FileReader(); // eslint-disable-line no-undef\r\n      reader.onload = e => resolve({ data: { link: e.target.result } });\r\n      reader.onerror = e => reject(e);\r\n      reader.readAsDataURL(file);\r\n    });\r\n  }\r\n\r\n  componentDidUpdate(prevProps) {\r\n    if (prevProps.content !== this.props.content) {\r\n      const blocksFromHTML = convertFromHTML(this.props.content);\r\n      const state = ContentState.createFromBlockArray(\r\n        blocksFromHTML.contentBlocks,\r\n        blocksFromHTML.entityMap\r\n      );\r\n      this.setState({\r\n        editorState: EditorState.createWithContent(state)\r\n      });\r\n    }\r\n  }\r\n\r\n  render() {\r\n    const { editorState } = this.state;\r\n    return (\r\n      <div className=\"rdw-storybook-root\">\r\n        <Editor\r\n          editorState={editorState}\r\n          toolbarClassName=\"rdw-storybook-toolbar\"\r\n          wrapperClassName=\"rdw-storybook-wrapper\"\r\n          editorClassName=\"rdw-storybook-editor\"\r\n          onEditorStateChange={this.onEditorStateChange}\r\n          toolbar={{\r\n            options: ['textAlign', 'blockType', 'inline', 'list'],\r\n            textAlign: {\r\n              inDropdown: false,\r\n              options: ['left', 'center', 'right', 'justify']\r\n            },\r\n            blockType: {\r\n              inDropdown: false,\r\n              options: ['Normal', 'H5', 'H6']\r\n            },\r\n            inline: {\r\n              options: [\r\n                'bold',\r\n                'italic',\r\n                'underline',\r\n                'strikethrough',\r\n                'monospace'\r\n              ]\r\n            },\r\n            list: {\r\n              options: ['unordered', 'ordered']\r\n            }\r\n          }}\r\n          placeholder=\"Pisz tutaj\"\r\n        />\r\n\r\n        <textarea\r\n          readOnly\r\n          className=\"rdw-storybook-textarea invisible\"\r\n          value={draftToHtml(convertToRaw(editorState.getCurrentContent()))}\r\n          onMouseLeave={this.props.handleChange}\r\n          name=\"content\"\r\n        />\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default TextEditor;\r\n","import React from 'react';\r\n\r\nconst TypeInputs = ({\r\n  type,\r\n  chapter_title,\r\n  type_message,\r\n  errors,\r\n  handleTypeChange\r\n}) => {\r\n  return (\r\n    <section className=\"form__options\">\r\n      <legend>Rodzaj</legend>\r\n      <fieldset className=\"form__field\">\r\n        <label htmlFor=\"story\" className=\"inputContainer\">\r\n          opowiadanie\r\n          <input\r\n            type=\"radio\"\r\n            id=\"story\"\r\n            name=\"type\"\r\n            value=\"story\"\r\n            checked={type === 'story'}\r\n            onChange={handleTypeChange}\r\n          />\r\n          <span className=\"checkmark checkmark--radio\"></span>\r\n        </label>\r\n        <label htmlFor=\"one-shot\" className=\"inputContainer\">\r\n          one-shot\r\n          <input\r\n            type=\"radio\"\r\n            id=\"one-shot\"\r\n            name=\"type\"\r\n            value=\"one-shot\"\r\n            checked={type === 'one-shot'}\r\n            disabled={chapter_title}\r\n            onChange={handleTypeChange}\r\n          />\r\n          <span className=\"checkmark checkmark--radio\"></span>\r\n        </label>\r\n      </fieldset>\r\n\r\n      {errors.type && <span className=\"form__alert\">{type_message}</span>}\r\n    </section>\r\n  );\r\n};\r\n\r\nexport default TypeInputs;\r\n","import React from 'react';\r\n\r\nconst StoryMainProperties = ({\r\n  type,\r\n  title,\r\n  chapter_title,\r\n  title_message,\r\n  chapter_title_message,\r\n  errors,\r\n  handlerOnChange\r\n}) => {\r\n  return (\r\n    <>\r\n      <section className=\"form__options\">\r\n        <div className=\"form__field\">\r\n          <input\r\n            type=\"text\"\r\n            name=\"title\"\r\n            id=\"title\"\r\n            className={title.length > 0 ? 'form__input filled' : 'form__input'}\r\n            value={title}\r\n            onChange={handlerOnChange}\r\n            minLength=\"2\"\r\n            required\r\n          />\r\n          <label htmlFor=\"title\" className=\"form__label\">\r\n            Tytuł\r\n          </label>\r\n        </div>\r\n\r\n        {errors.title && <span className=\"form__alert\">{title_message}</span>}\r\n      </section>\r\n\r\n      <section className=\"form__options\">\r\n        <div className=\"form__field\">\r\n          <input\r\n            type=\"text\"\r\n            name=\"chapter_title\"\r\n            id=\"chapter_title\"\r\n            className={\r\n              chapter_title && chapter_title.length > 0\r\n                ? 'form__input filled'\r\n                : 'form__input'\r\n            }\r\n            value={type !== 'one-shot' && chapter_title}\r\n            onChange={handlerOnChange}\r\n            disabled={type === 'one-shot'}\r\n            minLength=\"1\"\r\n            required\r\n          />\r\n          <label htmlFor=\"chapter__title\" className=\"form__label\">\r\n            Rozdział\r\n          </label>\r\n        </div>\r\n\r\n        {type !== 'one-shot' && errors.chapter_title && (\r\n          <span className=\"form__alert\">{chapter_title_message}</span>\r\n        )}\r\n      </section>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default StoryMainProperties;\r\n","import React from 'react';\r\n\r\nconst AuthorsInputs = ({\r\n  allAuthors,\r\n  author,\r\n  authors_message,\r\n  errors,\r\n  checkChange,\r\n  authors\r\n}) => {\r\n  const generateAuthors = () => {\r\n    return allAuthors.map((item, index) =>\r\n      item.login !== author ? (\r\n        <label key={index} className=\"inputContainer\">\r\n          <input\r\n            type=\"checkbox\"\r\n            name=\"authors\"\r\n            value={item.login}\r\n            checked={authors.includes(item.login)}\r\n            onChange={checkChange}\r\n          />\r\n          {item.login}\r\n          <span className=\"checkmark\"></span>\r\n        </label>\r\n      ) : (\r\n        <label key={index} className=\"inputContainer\">\r\n          <input\r\n            type=\"checkbox\"\r\n            id=\"authors\"\r\n            // value={author}\r\n            defaultChecked\r\n            readOnly\r\n          />\r\n          {author}\r\n          <span className=\"checkmark\"></span>\r\n        </label>\r\n      )\r\n    );\r\n  };\r\n\r\n  return (\r\n    <section className=\"form__options\">\r\n      <fieldset className=\"form__field\">\r\n        <legend>Autorzy</legend>\r\n        {generateAuthors()}\r\n        <br />\r\n      </fieldset>\r\n\r\n      {errors.authors && <span className=\"form__alert\">{authors_message}</span>}\r\n    </section>\r\n  );\r\n};\r\n\r\nexport default AuthorsInputs;\r\n","import React, { Component } from 'react';\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\r\nimport TextEditor from './components/Editor';\r\nimport TypeInputs from './components/TypeInputs';\r\nimport StoryMainProperties from './components/StoryMainProperties';\r\nimport AuthorsInputs from './components/AuthorsInputs';\r\nimport storyApi from '../../api/storyApi';\r\nimport '../../style/forms.css';\r\n\r\nclass EditStory extends Component {\r\n  state = {\r\n    _id: '',\r\n    type: '',\r\n    title: '',\r\n    chapter_title: false,\r\n    content: '',\r\n    authors: [],\r\n    errors: {\r\n      type: false,\r\n      authors: false,\r\n      title: false,\r\n      chapter_title: false,\r\n      content: false\r\n    },\r\n    checked: {}\r\n  };\r\n\r\n  messages = {\r\n    type_message: 'Wybierz typ',\r\n    authors_message: 'Dodaj autorów',\r\n    title_message: 'Nadaj tytuł',\r\n    chapter_title_message: 'Uzupełnij to pole',\r\n    content_message: 'Uzupełnij treść'\r\n  };\r\n\r\n  formValidate = () => {\r\n    const type = this.state.type === '';\r\n    const chapter_title =\r\n      this.state.type === 'story' &&\r\n      (this.state.chapter_title === false || this.state.chapter_title === '');\r\n    const title = this.state.title === '';\r\n    const content = this.state.content.length < 10;\r\n    const authors = this.state.authors.length === 0;\r\n\r\n    this.setState({\r\n      errors: {\r\n        type,\r\n        title,\r\n        chapter_title,\r\n        content,\r\n        authors\r\n      }\r\n    });\r\n\r\n    return !type && !title && !chapter_title && !content && !authors;\r\n  };\r\n\r\n  handleTypeChange = e => {\r\n    this.formValidate();\r\n    this.setState({ type: e.target.value });\r\n  };\r\n\r\n  handlerOnChange = e => {\r\n    this.formValidate();\r\n    if (e.target.type === 'checkbox') {\r\n      const authors = Object.entries(this.state.checked)\r\n        .filter(item => item[1] && item[0])\r\n        .map(item => item[0]);\r\n\r\n      this.setState({\r\n        authors,\r\n        checked: {\r\n          ...this.state.checked,\r\n          [e.target.value]: e.target.checked,\r\n          [this.props.author]: true\r\n        }\r\n      });\r\n    } else {\r\n      this.setState({\r\n        [e.target.name]: e.target.value\r\n      });\r\n    }\r\n  };\r\n\r\n  handleSubmit = e => {\r\n    e.preventDefault();\r\n    const { _id, type, title, chapter_title, content, authors } = this.state;\r\n    if (this.formValidate()) {\r\n      console.log('aktualizuję dane');\r\n      let data;\r\n\r\n      if (type !== 'one-shot') {\r\n        data = { type, title, chapter_title, content, authors };\r\n      } else {\r\n        data = { type, title, content, authors };\r\n      }\r\n      console.log(data);\r\n      _id !== 'new'\r\n        ? storyApi.updateStoryById(_id, data).then(data => alert(data.respond))\r\n        : // .then(this.props.closeEditStory)\r\n          storyApi.createNewStory(data).then(data => alert(data.respond));\r\n      // .then(this.props.closeEditStory);\r\n    } else {\r\n      alert('Uzupełnij brakujące pola!');\r\n    }\r\n  };\r\n\r\n  convertToObject = (array, value) => {\r\n    return array\r\n      .map(item => ({ [item]: value }))\r\n      .reduce(function(result, item) {\r\n        const key = Object.keys(item)[0];\r\n        result[key] = item[key];\r\n        return result;\r\n      }, {});\r\n  };\r\n\r\n  componentDidMount() {\r\n    const {\r\n      _id,\r\n      type,\r\n      title,\r\n      chapter_title,\r\n      content,\r\n      authors\r\n    } = this.props.editContent;\r\n\r\n    const checked = authors.length ? this.convertToObject(authors, true) : {};\r\n\r\n    this.setState({\r\n      _id,\r\n      type,\r\n      title,\r\n      chapter_title,\r\n      content,\r\n      checked,\r\n      authors\r\n    });\r\n  }\r\n\r\n  componentDidUpdate(prevProps) {\r\n    if (this.props.editContent !== prevProps.editContent) {\r\n      const checked = this.convertToObject(\r\n        this.props.editContent.authors,\r\n        true\r\n      );\r\n\r\n      this.setState({ ...this.props.editContent, checked });\r\n    }\r\n  }\r\n\r\n  render() {\r\n    const { type, title, chapter_title, content, errors } = this.state;\r\n    const {\r\n      type_message,\r\n      title_message,\r\n      chapter_title_message,\r\n      content_message,\r\n      authors_message\r\n    } = this.messages;\r\n\r\n    return (\r\n      <div className=\"editContainer\">\r\n        <h3>Tryb edycji</h3>\r\n        <button\r\n          className=\"btn listBtn listBtn--main\"\r\n          onClick={this.props.closeEditStory}\r\n        >\r\n          <FontAwesomeIcon icon=\"times\" size=\"2x\" />\r\n          <span className=\"description\">Zamknij</span>\r\n        </button>\r\n\r\n        <form method=\"post\" className=\"form editForm\">\r\n          <TypeInputs\r\n            type={type}\r\n            chapter_title={chapter_title}\r\n            type_message={type_message}\r\n            errors={errors}\r\n            handleTypeChange={this.handleTypeChange}\r\n          />\r\n\r\n          <AuthorsInputs\r\n            author={this.props.author}\r\n            allAuthors={this.props.allAuthors}\r\n            authors_message={authors_message}\r\n            errors={errors}\r\n            checkChange={this.handlerOnChange}\r\n            authors={this.state.authors}\r\n          />\r\n\r\n          <StoryMainProperties\r\n            type={type}\r\n            title={title}\r\n            chapter_title={chapter_title || ''}\r\n            title_message={title_message}\r\n            chapter_title_message={chapter_title_message}\r\n            errors={errors}\r\n            handlerOnChange={this.handlerOnChange}\r\n          />\r\n\r\n          <div className=\"form__editor\">\r\n            <TextEditor content={content} handleChange={this.handlerOnChange} />\r\n\r\n            {errors.content && (\r\n              <span className=\"form__alert\">{content_message}</span>\r\n            )}\r\n          </div>\r\n\r\n          <button\r\n            type=\"submit\"\r\n            className=\"btn form__button\"\r\n            onClick={this.handleSubmit}\r\n          >\r\n            Zatwierdź\r\n          </button>\r\n        </form>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default EditStory;\r\n","import React, { Component } from 'react';\r\n// import { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\r\nimport Loader from '../../components/Loader';\r\nimport StoryElement from './components/StoryElement';\r\nimport EditButton from './components/EditButton';\r\nimport EditStory from './EditStory';\r\nimport storyApi from '../../api/storyApi';\r\n\r\nclass StoriesList extends Component {\r\n  state = {\r\n    stories: [],\r\n    editmode: false,\r\n    edit_content: {},\r\n    authors: []\r\n  };\r\n\r\n  storyModel = {\r\n    _id: 'new',\r\n    type: '',\r\n    title: '',\r\n    chapter_title: false,\r\n    content: '',\r\n    authors: this.state.authors\r\n  };\r\n\r\n  generateStoriesList = () => {\r\n    return this.state.stories.map(story => (\r\n      <StoryElement\r\n        key={story._id}\r\n        story={story}\r\n        handleDeleteStory={this.handleDeleteStory}\r\n        handleUpdateStory={this.handleUpdateStory}\r\n        handleEditStory={() => this.handleEditStory(story)}\r\n      />\r\n    ));\r\n  };\r\n\r\n  getStoriesByAuthor = author => {\r\n    storyApi\r\n      .getStoriesByAuthor(author)\r\n      .then(data => this.setState({ stories: data }));\r\n  };\r\n\r\n  deleteStoryFromState = id => {\r\n    this.setState(prevState => ({\r\n      stories: prevState.stories.filter(story => story._id !== id && story)\r\n    }));\r\n  };\r\n\r\n  updateStoryFromState = id => {\r\n    this.setState(prevState => ({\r\n      stories: prevState.stories.map(story =>\r\n        story._id === id ? { ...story, visible: !story.visible } : story\r\n      )\r\n    }));\r\n  };\r\n\r\n  handleDeleteStory = (id = '') => {\r\n    this.deleteStoryFromState(id);\r\n    storyApi.deleteStoryById(id);\r\n  };\r\n\r\n  handleUpdateStory = (id = '', data = {}) => {\r\n    this.updateStoryFromState(id);\r\n    storyApi.updateStoryById(id, data);\r\n  };\r\n\r\n  handleEditStory = (props = '') => {\r\n    // czy można to jakoś ulepszyć?\r\n    this.setState({\r\n      editmode: true,\r\n      edit_content: props\r\n    });\r\n  };\r\n\r\n  closeEditStory = () => {\r\n    this.setState({\r\n      editmode: false,\r\n      editContent: this.storyModel\r\n    });\r\n  };\r\n\r\n  componentDidMount() {\r\n    this.getStoriesByAuthor(this.props.author);\r\n  }\r\n\r\n  componentDidUpdate(prevProps, prevState) {\r\n    if (prevProps.author !== this.props.author) {\r\n      this.getStoriesByAuthor(this.props.author);\r\n      this.setState({ authors: [...this.state.authors, this.props.author] });\r\n    }\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <>\r\n        <div className=\"adminStories\">\r\n          {this.state.editmode && (\r\n            <EditStory\r\n              author={this.props.author}\r\n              allAuthors={this.props.allAuthors}\r\n              editContent={\r\n                // czy to jest konieczne?\r\n                this.state.edit_content !== '' ? this.state.edit_content : ''\r\n              }\r\n              closeEditStory={this.closeEditStory}\r\n            />\r\n          )}\r\n          <h3>Twoja twórczość</h3>\r\n          {this.state.stories.length > 0 ? (\r\n            this.generateStoriesList()\r\n          ) : (\r\n            <Loader />\r\n          )}\r\n          <div className=\"addListItem\">\r\n            <EditButton\r\n              id={this.storyModel._id}\r\n              handleEditStory={() => this.handleEditStory(this.storyModel)}\r\n            />\r\n            {/* <button\r\n              className=\"listBtn\"\r\n              onClick={() => this.handleEditStory(this.storyModel)}\r\n            >\r\n              <FontAwesomeIcon icon=\"plus\" />\r\n            </button> */}\r\n            <p className=\"storyListItem__title\">Nowy tytuł</p>\r\n          </div>\r\n        </div>\r\n      </>\r\n    );\r\n  }\r\n}\r\n\r\nexport default StoriesList;\r\n","import React from 'react';\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\r\n\r\nconst NewsElement = ({ title, date, id, handleDeleteNews }) => {\r\n  const utfDate = new Date(date);\r\n\r\n  return (\r\n    <div className='newsListItem'>\r\n      <div className='newsListItem__title'>\r\n        <h4>{title}</h4>\r\n        <p className='small'>{utfDate.toLocaleDateString()}</p>\r\n      </div>\r\n      <button className='listBtn'>\r\n        <FontAwesomeIcon icon=\"edit\" />\r\n      </button>\r\n      <button\r\n        className='listBtn'\r\n        value={id}\r\n        onClick={() => handleDeleteNews(id)}>\r\n        <FontAwesomeIcon icon=\"trash\" />\r\n      </button>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default NewsElement;\r\n","import React, { Component } from 'react';\r\nimport NewsElement from './components/NewsElement';\r\nimport newsApi from '../../api/newsApi';\r\nimport Loader from '../../components/Loader';\r\n\r\nclass NewsList extends Component {\r\n  state = {\r\n    news: []\r\n  };\r\n\r\n  generateNewsList = () => {\r\n    return this.state.news.map(item => (\r\n      <NewsElement\r\n        key={item.date}\r\n        title={item.title}\r\n        date={item.date}\r\n        id={item._id}\r\n        handleDeleteNews={this.handleDeleteNews}\r\n      />\r\n    ));\r\n  };\r\n\r\n  deleteNewsFromState = id => {\r\n    this.setState(prevState => ({\r\n      news: prevState.news.filter(item => item._id !== id && item)\r\n    }));\r\n  };\r\n\r\n  handleDeleteNews = (id = '') => {\r\n    this.deleteNewsFromState(id);\r\n    newsApi.deleteNewsById(id);\r\n  };\r\n\r\n  componentDidMount() {\r\n    newsApi.getAllNews().then(data => this.setState({ news: data }));\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <>\r\n        <div className=\"adminNews\">\r\n          <h3>News</h3>\r\n          {this.state.news.length > 0 ? this.generateNewsList() : <Loader />}\r\n        </div>\r\n      </>\r\n    );\r\n  }\r\n}\r\n\r\nexport default NewsList;\r\n","import config from '../api/config';\r\n\r\nclass usersApi {\r\n  static getAllUsers() {\r\n    return fetch(`${config.adminCorsUrl}users`)\r\n      .then(res => {\r\n        if (res.ok) {\r\n          return res.json();\r\n        } else {\r\n          throw new Error('error ', res.status);\r\n        }\r\n      })\r\n      .catch(err => err);\r\n  }\r\n}\r\n\r\nexport default usersApi;\r\n","import React, { Component } from 'react';\r\nimport StoriesList from './StoriesList';\r\nimport NewsList from './NewsList';\r\nimport usersApi from '../../api/usersApi';\r\nimport './style/adminpanel.css';\r\n\r\nclass AdminPanel extends Component {\r\n  state = {\r\n    user: this.props.user,\r\n    allAuthors: []\r\n  };\r\n\r\n  componentDidMount() {\r\n    usersApi.getAllUsers().then(data => {\r\n      if (data) {\r\n        return this.setState({\r\n          allAuthors: data.map(({ login }) => ({ login })),\r\n          user: this.props.user\r\n        });\r\n      }\r\n    });\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <>\r\n        <div className=\"adminPanel\">\r\n          <h3 className=\"adminName\">{this.state.user}</h3>\r\n          <StoriesList\r\n            author={this.state.user}\r\n            allAuthors={this.state.allAuthors}\r\n          />\r\n          <NewsList />\r\n        </div>\r\n      </>\r\n    );\r\n  }\r\n}\r\n\r\nexport default AdminPanel;\r\n","import React, { Component } from 'react';\r\nimport { Route, Redirect } from 'react-router-dom';\r\nimport AdminPanel from './admin/AdminPanel';\r\n\r\nclass Adminpage extends Component {\r\n  state = {\r\n    user: ''\r\n  };\r\n\r\n  checkPermission = () => {\r\n    return localStorage.getItem('state');\r\n  };\r\n\r\n  componentDidMount() {\r\n    this.setState({ user: localStorage.getItem('user') });\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <>\r\n        <Route\r\n          render={() =>\r\n            this.checkPermission() ? (\r\n              <AdminPanel user={this.state.user} />\r\n            ) : (\r\n              <Redirect to=\"/sensitive-cra/login/\" />\r\n            )\r\n          }\r\n        />\r\n      </>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Adminpage;\r\n","import React, { Component } from 'react';\r\nimport Loader from '../components/Loader';\r\nimport config from '../api/config';\r\nimport '../style/forms.css';\r\n\r\nclass Loginpage extends Component {\r\n  state = {\r\n    login: '',\r\n    pass: '',\r\n    errors: {\r\n      login: false,\r\n      pass: false\r\n    }\r\n  };\r\n\r\n  messages = {\r\n    login_incorrect:\r\n      'Nazwa musi być dłuższa niż 4 znaki i nie może zawierać spacji',\r\n    email_incorrect: 'Brak @ w emailu',\r\n    password_incorrect: 'Hasło musi mieć od 8 do 20 znaków'\r\n  };\r\n\r\n  handleInputChange = e => {\r\n    const name = e.target.name;\r\n    const value = e.target.value;\r\n    this.setState({\r\n      [name]: value\r\n    });\r\n  };\r\n\r\n  handleSubmit = e => {\r\n    e.preventDefault();\r\n    const validation = this.formValidation();\r\n    if (validation.correct) {\r\n      fetch(`${config.baseCorsUrl}login/${this.state.login}.${this.state.pass}`)\r\n        .then(res => {\r\n          if (res.ok) {\r\n            return res.json();\r\n          } else {\r\n            throw new Error('error ', res.status);\r\n          }\r\n        })\r\n        .then(([data]) => {\r\n          if (data) {\r\n            this.setState({\r\n              message: 'Logowanie poprawne',\r\n              loading: false,\r\n              alert: false\r\n            });\r\n            localStorage.setItem('state', 'login');\r\n            localStorage.setItem('user', this.state.login);\r\n            this.props.history.push({\r\n              pathname: '/sensitive-cra/admin',\r\n              user: this.state.login\r\n            });\r\n          } else {\r\n            this.setState({\r\n              message: 'Błędny login lub hasło',\r\n              loading: false,\r\n              alert: true\r\n            });\r\n          }\r\n        })\r\n        .catch(err => console.log(err));\r\n\r\n      this.setState({\r\n        loading: true,\r\n\r\n        errors: {\r\n          login: false,\r\n          pass: false\r\n        }\r\n      });\r\n    } else {\r\n      this.setState({\r\n        errors: {\r\n          login: !validation.login,\r\n          pass: !validation.password\r\n        }\r\n      });\r\n    }\r\n  };\r\n\r\n  formValidation = () => {\r\n    let login = false;\r\n    let password = false;\r\n    let correct = false;\r\n\r\n    if (this.state.login.length >= 4 && this.state.login.indexOf(' ') === -1) {\r\n      login = true;\r\n    }\r\n    //  if (this.state.email.indexOf('@') !== -1) {\r\n    //       email = true\r\n    //     }\r\n    if (this.state.pass.length >= 8 && this.state.pass.length <= 20) {\r\n      password = true;\r\n    }\r\n\r\n    if (login && password) {\r\n      correct = true;\r\n    }\r\n\r\n    return {\r\n      correct,\r\n      login,\r\n      password\r\n    };\r\n  };\r\n\r\n  render() {\r\n    return (\r\n      <>\r\n        <form className=\"form myForm\" onSubmit={this.handleSubmit} noValidate>\r\n          <h2>Panel logowania</h2>\r\n          <div className=\"form__field\">\r\n            <input\r\n              type=\"text\"\r\n              name=\"login\"\r\n              id=\"login\"\r\n              className={\r\n                this.state.errors.login\r\n                  ? 'form__input invalidate'\r\n                  : this.state.login.length > 0\r\n                  ? 'form__input filled'\r\n                  : 'form__input'\r\n              }\r\n              value={this.state.login}\r\n              onChange={this.handleInputChange}\r\n            />\r\n            <label htmlFor=\"login\" className=\"form__label\">\r\n              Login\r\n            </label>\r\n            {this.state.errors.login && (\r\n              <span className=\"form__alert\">\r\n                {this.messages.login_incorrect}\r\n              </span>\r\n            )}\r\n          </div>\r\n\r\n          <div className=\"form__field\">\r\n            <input\r\n              type=\"password\"\r\n              name=\"pass\"\r\n              id=\"pass\"\r\n              className={\r\n                this.state.errors.pass\r\n                  ? 'form__input invalidate'\r\n                  : this.state.pass.length > 0\r\n                  ? 'form__input filled'\r\n                  : 'form__input'\r\n              }\r\n              value={this.state.pass}\r\n              onChange={this.handleInputChange}\r\n            />\r\n            <label htmlFor=\"pass\" className=\"form__label\">\r\n              Hasło\r\n            </label>\r\n            {this.state.errors.pass && (\r\n              <span className=\"form__alert\">\r\n                {this.messages.password_incorrect}\r\n              </span>\r\n            )}\r\n          </div>\r\n\r\n          <button className=\"btn form__button\">Zaloguj</button>\r\n        </form>\r\n        <aside className=\"otherInformation\">\r\n          {this.state.loading && <Loader />}\r\n          {this.state.message && (\r\n            <h3\r\n              className={\r\n                this.state.alert ? 'form__alert' : 'form__confirmation'\r\n              }\r\n            >\r\n              {this.state.message}\r\n            </h3>\r\n          )}\r\n        </aside>\r\n      </>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Loginpage;\r\n","import React, { Component } from 'react';\r\nimport { Route, Redirect } from 'react-router-dom';\r\nimport Loader from '../components/Loader';\r\nimport '../style/forms.css';\r\n\r\nclass Logoutpage extends Component {\r\n  state = {\r\n    redirect: false\r\n  };\r\n\r\n  componentDidMount() {\r\n    localStorage.removeItem('state');\r\n    localStorage.removeItem('user');\r\n    setTimeout(() => this.setState({ redirect: true }), 500);\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <>\r\n        <Route\r\n          render={() =>\r\n            !this.state.redirect ? (\r\n              <div>\r\n                <h3>Wylogowano</h3>\r\n                <Loader />\r\n              </div>\r\n            ) : (\r\n              <Redirect to=\"/sensitive-cra/\" />\r\n            )\r\n          }\r\n        />\r\n      </>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Logoutpage;\r\n","import React from 'react';\r\nimport '../style/errorpage.css';\r\n\r\nconst Errorpage = () => {\r\n  return (\r\n    <div className=\"container\">\r\n      <h3 className=\"err-info\">Błąd</h3>\r\n      <h2 className=\"bigInt\">404</h2>\r\n      <h3 className=\"err-info\">Strona o podanym adresie nie istnieje</h3>\r\n      <div className=\"fly\"></div>\r\n\r\n      <div className=\"err-kittyCont\">\r\n        <div className=\"err-kitty\">\r\n          <div className=\"err-body\"></div>\r\n          <div className=\"err-head\">\r\n            <div className=\"err-ears\">\r\n              <div className=\"err-ear-left\"></div>\r\n              <div className=\"err-ear-right\"></div>\r\n            </div>\r\n            <div className=\"err-face\">\r\n              <div className=\"err-eye-left\"></div>\r\n              <div className=\"err-eye-right\"></div>\r\n              <div className=\"err-nose\"></div>\r\n              <div className=\"whiskers-right\"></div>\r\n              <div className=\"whiskers-left\"></div>\r\n            </div>\r\n          </div>\r\n          <div className=\"err-tail\"></div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Errorpage;\r\n","import React from 'react';\r\nimport { Route, Switch } from 'react-router-dom';\r\nimport Homepage from '../pages/Homepage';\r\nimport Storypage from '../pages/Storypage';\r\nimport Adminpage from '../pages/Adminpage';\r\nimport Loginpage from '../pages/Loginpage';\r\nimport Logoutpage from '../pages/Logoutpage';\r\nimport Errorpage from '../pages/Errorpage';\r\nimport config from '../api/config';\r\n\r\nconst Page = () => {\r\n  return (\r\n    <>\r\n      <Switch>\r\n        <Route path=\"/sensitive-cra/\" exact component={Homepage} />\r\n        <Route path=\"/sensitive-cra/story/:id\" component={Storypage} />\r\n        {window.innerWidth > config.desktopSize && (\r\n          <Route path=\"/sensitive-cra/admin\" component={Adminpage} />\r\n        )}\r\n        <Route path=\"/sensitive-cra/login\" component={Loginpage} />\r\n        <Route path=\"/sensitive-cra/logout\" component={Logoutpage} />\r\n        <Route component={Errorpage} />\r\n      </Switch>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default Page;\r\n","import React from 'react';\r\nimport '../style/footer.css'\r\n\r\nconst Footer = () => {\r\n  return (\r\n    <>\r\n      <p>Sensitive</p>\r\n\r\n    </>\r\n  );\r\n}\r\n\r\nexport default Footer;","import React, { Component } from 'react';\r\nimport music from '../assets/bensound-cute.mp3';\r\nimport '../style/kitty.css';\r\n\r\nclass Kitty extends Component {\r\n  state = {\r\n    firstTime: true,\r\n    play: false,\r\n    volume: 1\r\n  };\r\n\r\n  audio = new Audio(music);\r\n  audiosource = (\r\n    <div className=\"description description--ext\">\r\n      <p>\r\n        «Cute» from\r\n        <a className=\"external\" href=\"https://www.bensound.com\">\r\n          Bensound.com\r\n        </a>\r\n      </p>\r\n    </div>\r\n  );\r\n\r\n  playHandler = () => {\r\n    this.state.play ? this.audio.pause() : this.audio.play();\r\n    this.setState(prevState => ({\r\n      firstTime: false,\r\n      play: !prevState.play\r\n    }));\r\n  };\r\n\r\n  volumeHandler = e => {\r\n    const stateVolume = this.state.volume;\r\n    let volume;\r\n    if (stateVolume >= 0 && stateVolume <= 1 && e.deltaY > 0) {\r\n      volume =\r\n        stateVolume === 0\r\n          ? stateVolume\r\n          : (stateVolume * 1000 - e.deltaY) / 1000;\r\n    } else if (stateVolume <= 1 && stateVolume >= 0 && e.deltaY < 0) {\r\n      volume =\r\n        stateVolume === 1\r\n          ? stateVolume\r\n          : (stateVolume * 1000 - e.deltaY) / 1000;\r\n    }\r\n    this.audio.volume = stateVolume;\r\n    this.setState({ volume });\r\n  };\r\n\r\n  render() {\r\n    return (\r\n      <>\r\n        <div className=\"kittyContainer\">\r\n          <div\r\n            className=\"btn kitty\"\r\n            onClick={this.playHandler}\r\n            onWheel={this.volumeHandler}\r\n          >\r\n            <div className=\"body\"></div>\r\n            <div className=\"head\">\r\n              <div className=\"ears\">\r\n                <div className=\"ear-left\"></div>\r\n                <div className=\"ear-right\"></div>\r\n              </div>\r\n              <div className=\"face\">\r\n                <div className=\"eye-left\"></div>\r\n                <div className=\"eye-right\"></div>\r\n                <div className=\"nose\"></div>\r\n              </div>\r\n            </div>\r\n            <div className=\"tail\"></div>\r\n\r\n            {this.state.firstTime && (\r\n              <span className=\"description\"> Kliknij!</span>\r\n            )}\r\n            {this.state.play && this.audiosource}\r\n          </div>\r\n        </div>\r\n      </>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Kitty;\r\n","import React, { Component } from 'react';\r\nimport { BrowserRouter as Router } from 'react-router-dom';\r\nimport { library } from '@fortawesome/fontawesome-svg-core';\r\nimport {\r\n  faChevronLeft,\r\n  faChevronRight,\r\n  faHome,\r\n  faUser,\r\n  faPowerOff,\r\n  faSun,\r\n  faMoon,\r\n  faEye,\r\n  faEyeSlash,\r\n  faTrash,\r\n  faEdit,\r\n  faPlus,\r\n  faTimes\r\n} from '@fortawesome/free-solid-svg-icons';\r\nimport Header from './Header';\r\nimport Navigation from './Navigation';\r\nimport Page from './Page';\r\nimport Footer from './Footer';\r\nimport Kitty from './Kitty';\r\nimport '../style/app.css';\r\n\r\nlibrary.add(\r\n  faChevronLeft,\r\n  faChevronRight,\r\n  faHome,\r\n  faUser,\r\n  faPowerOff,\r\n  faSun,\r\n  faMoon,\r\n  faEye,\r\n  faEyeSlash,\r\n  faTrash,\r\n  faEdit,\r\n  faPlus,\r\n  faTimes\r\n);\r\n\r\nclass App extends Component {\r\n  state = {\r\n    lightMode: false\r\n  };\r\n\r\n  handleColorMode = () => {\r\n    this.setState(prevState => ({ lightMode: !prevState.lightMode }));\r\n  };\r\n\r\n  render() {\r\n    return (\r\n      <Router basename=\"/\">\r\n        <div\r\n          className={\r\n            this.state.lightMode ? 'appContainer light-mode' : 'appContainer'\r\n          }\r\n        >\r\n          <nav className=\"navigation\">\r\n            {\r\n              <Navigation\r\n                changeColor={this.handleColorMode}\r\n                lightMode={this.state.lightMode}\r\n              />\r\n            }\r\n          </nav>\r\n          <header className=\"banner\">{<Header />}</header>\r\n          <main className=\"mainContainer\">{<Page />}</main>\r\n          <footer className=\"footer\">{<Footer />}</footer>\r\n          <Kitty />\r\n        </div>\r\n      </Router>\r\n    );\r\n  }\r\n}\r\n\r\nexport default App;\r\n","// This optional code is used to register a service worker.\r\n// register() is not called by default.\r\n\r\n// This lets the app load faster on subsequent visits in production, and gives\r\n// it offline capabilities. However, it also means that developers (and users)\r\n// will only see deployed updates on subsequent visits to a page, after all the\r\n// existing tabs open on the page have been closed, since previously cached\r\n// resources are updated in the background.\r\n\r\n// To learn more about the benefits of this model and instructions on how to\r\n// opt-in, read https://bit.ly/CRA-PWA\r\n\r\nconst isLocalhost = Boolean(\r\n  window.location.hostname === 'localhost' ||\r\n    // [::1] is the IPv6 localhost address.\r\n    window.location.hostname === '[::1]' ||\r\n    // 127.0.0.0/8 are considered localhost for IPv4.\r\n    window.location.hostname.match(\r\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\r\n    )\r\n);\r\n\r\nexport function register(config) {\r\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\r\n    // The URL constructor is available in all browsers that support SW.\r\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\r\n    if (publicUrl.origin !== window.location.origin) {\r\n      // Our service worker won't work if PUBLIC_URL is on a different origin\r\n      // from what our page is served on. This might happen if a CDN is used to\r\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\r\n      return;\r\n    }\r\n\r\n    window.addEventListener('load', () => {\r\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\r\n\r\n      if (isLocalhost) {\r\n        // This is running on localhost. Let's check if a service worker still exists or not.\r\n        checkValidServiceWorker(swUrl, config);\r\n\r\n        // Add some additional logging to localhost, pointing developers to the\r\n        // service worker/PWA documentation.\r\n        navigator.serviceWorker.ready.then(() => {\r\n          console.log(\r\n            'This web app is being served cache-first by a service ' +\r\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\r\n          );\r\n        });\r\n      } else {\r\n        // Is not localhost. Just register service worker\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    });\r\n  }\r\n}\r\n\r\nfunction registerValidSW(swUrl, config) {\r\n  navigator.serviceWorker\r\n    .register(swUrl)\r\n    .then(registration => {\r\n      registration.onupdatefound = () => {\r\n        const installingWorker = registration.installing;\r\n        if (installingWorker == null) {\r\n          return;\r\n        }\r\n        installingWorker.onstatechange = () => {\r\n          if (installingWorker.state === 'installed') {\r\n            if (navigator.serviceWorker.controller) {\r\n              // At this point, the updated precached content has been fetched,\r\n              // but the previous service worker will still serve the older\r\n              // content until all client tabs are closed.\r\n              console.log(\r\n                'New content is available and will be used when all ' +\r\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\r\n              );\r\n\r\n              // Execute callback\r\n              if (config && config.onUpdate) {\r\n                config.onUpdate(registration);\r\n              }\r\n            } else {\r\n              // At this point, everything has been precached.\r\n              // It's the perfect time to display a\r\n              // \"Content is cached for offline use.\" message.\r\n              console.log('Content is cached for offline use.');\r\n\r\n              // Execute callback\r\n              if (config && config.onSuccess) {\r\n                config.onSuccess(registration);\r\n              }\r\n            }\r\n          }\r\n        };\r\n      };\r\n    })\r\n    .catch(error => {\r\n      console.error('Error during service worker registration:', error);\r\n    });\r\n}\r\n\r\nfunction checkValidServiceWorker(swUrl, config) {\r\n  // Check if the service worker can be found. If it can't reload the page.\r\n  fetch(swUrl, {\r\n    headers: { 'Service-Worker': 'script' }\r\n  })\r\n    .then(response => {\r\n      // Ensure service worker exists, and that we really are getting a JS file.\r\n      const contentType = response.headers.get('content-type');\r\n      if (\r\n        response.status === 404 ||\r\n        (contentType != null && contentType.indexOf('javascript') === -1)\r\n      ) {\r\n        // No service worker found. Probably a different app. Reload the page.\r\n        navigator.serviceWorker.ready.then(registration => {\r\n          registration.unregister().then(() => {\r\n            window.location.reload();\r\n          });\r\n        });\r\n      } else {\r\n        // Service worker found. Proceed as normal.\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    })\r\n    .catch(() => {\r\n      console.log(\r\n        'No internet connection found. App is running in offline mode.'\r\n      );\r\n    });\r\n}\r\n\r\nexport function unregister() {\r\n  if ('serviceWorker' in navigator) {\r\n    navigator.serviceWorker.ready.then(registration => {\r\n      registration.unregister();\r\n    });\r\n  }\r\n}\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\nimport App from './layout/App';\r\nimport * as serviceWorker from './serviceWorker';\r\n\r\nReactDOM.render(<App />, document.getElementById('root'));\r\n\r\n// If you want your app to work offline and load faster, you can change\r\n// unregister() to register() below. Note this comes with some pitfalls.\r\n// Learn more about service workers: https://bit.ly/CRA-PWA\r\nserviceWorker.unregister();\r\n"],"sourceRoot":""}